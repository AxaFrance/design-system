@use "sass:color";
@use "../common/common.agent.scss" as common;

/* stylelint-disable no-descending-specificity */
.af-accordion {
  &__item {
    &:first-child {
      .af-accordion__item-header {
        border-radius: 4px 4px 0 0;
      }
    }

    &:last-child {
      .af-accordion__item-header {
        border-radius: 0 0 4px 4px;
      }
    }

    &--open:last-child {
      .af-accordion__item-header {
        border-radius: 0;
      }
    }

    &-header {
      position: relative;
      background: common.$color-azur;
      cursor: pointer;
    }

    &-title {
      margin: 0;
      padding: 0.7rem 1rem;
      font-size: 1.2rem;
      color: common.$white;
      cursor: pointer;

      .glyphicon-menu-down,
      .glyphicon-menu-up {
        position: absolute;
        top: 50%;
        left: 1rem;
        width: 14px;
        font-size: 0.6em;
        transform: translate(0, -50%);
      }
    }

    &-toggle {
      position: relative;
      z-index: 2;
      display: block;
      padding-left: 1.5rem;
      color: common.$white;

      &:hover,
      :focus {
        text-decoration: none;
        color: common.$white;
      }
    }
  }

  &__collapse {
    display: block;
    max-height: 0;
    border: solid 1px common.$color-accordeon-border-collapse;
    overflow: hidden;
    transition: max-height 0.2s ease-out;

    &--open {
      max-height: 100%;
      overflow: visible;
    }
  }

  &__block {
    padding: 1rem;
  }

  &--arrow-right {
    .af-accordion__item-title {
      .glyphicon-menu-down,
      .glyphicon-menu-up {
        right: 1rem;
        left: inherit;
      }

      .af-accordion__item-toggle {
        padding-left: 0.2rem;
      }
    }
  }

  &--light {
    .af-accordion__item {
      border: 0;

      .af-accordion__collapse {
        border: none;
      }

      &-header {
        padding: 0;
        background: none;
      }

      &-title {
        display: flex;
        padding: 0.4rem 1rem 0.4rem 0;
        align-items: center;
        color: common.$color-mine-shaft;

        .glyphicon-menu-down,
        .glyphicon-menu-up {
          position: static;
          margin-right: 0.1rem;
          transform: translate(0, 0);
        }

        &::after {
          top: 50%;
          background-color: common.$color-scorpion;
          transform: translate(0, -50%);
        }
      }

      &-toggle {
        display: block;
        padding: 0 1rem;
        color: common.$color-mine-shaft;
        background: common.$white;

        &:hover {
          text-decoration: none;
        }

        &:focus {
          text-decoration: none;
          color: common.$color-mine-shaft;
        }
      }
    }
  }

  &--custom {
    .af-accordion {
      &__item {
        &-header--custom {
          border-radius: 3px 3px 0 0;
          background: common.$color-accordion-custom;
        }

        &-toggle {
          padding-left: 0;
        }
      }

      &__collapse--custom {
        border: 1px dashed common.$color-scorpion;
        border-top: 0;
        background: common.$white;
      }
    }
  }
}
/* stylelint-enable no-descending-specificity */
