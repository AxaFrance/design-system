import{j as m}from"./index-C1mcBe1y.js";import{v as b,P as M}from"./TimelineVerticalApollo-C1uMluts.js";import{r as l}from"./index-DbaA8R3S.js";const g=(s,o,e)=>{const a=Array(e).fill(0);for(let t=0;t<e;t++)if(t<s)a[t]=1;else if(t===s){a[t]=o;break}return a},j=(s,o,e,a=750)=>{const[t,n]=l.useState(g(o,s,e)),r=l.useRef(o+s),u=l.useRef(null),f=l.useCallback(()=>{const i=o+s;if(r.current===i)return;const c=i-r.current;!Number.isInteger(r.current)&&Math.floor(r.current)!==o?r.current=c>0?Math.ceil(r.current):Math.floor(r.current):Math.abs(c)>1?r.current+=Number(Math.sign(c))*1:Math.abs(c)>0&&(r.current=i),n(g(Math.floor(r.current),r.current-Math.floor(r.current),e)),u.current=setTimeout(f,a)},[o,a,s,e]);return l.useEffect(()=>{u.current&&(clearTimeout(u.current),u.current=null),n(g(o,s,e))},[e]),l.useEffect(()=>(f(),()=>{u.current&&clearTimeout(u.current)}),[s,o]),t},p=({currentStepProgress:s=0,max:o=100,nbSteps:e=4,stepsCount:a=e,currentStep:t,className:n,ProgressBarComponent:r,...u})=>{const f=l.useId(),i=j(s/o,t,a);return m.jsx("ol",{className:b("af-progress-bar-group",n),...u,children:i.map((c,h)=>m.jsx("li",{className:"af-progress-bar-group__item",children:m.jsx(r,{value:c,"aria-hidden":!0})},`af-progress-bar-group__item--${f}-${h}`))})},P=s=>m.jsx(p,{...s,ProgressBarComponent:M});export{P};
