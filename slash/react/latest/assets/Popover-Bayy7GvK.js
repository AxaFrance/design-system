import{j as P}from"./jsx-runtime-BjG_zV1W.js";import{r as o,R as re,e as L}from"./index-C33_amOP.js";import{c as oe,o as se,a as Y,g as ae,i as A}from"./floating-ui.dom-0axdaRjh.js";import{r as ce}from"./index-fOfmBfwh.js";import{g as ie}from"./getComponentClassName-CfMiunrP.js";var B=typeof document<"u"?o.useLayoutEffect:o.useEffect;function V(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!V(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!V(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function G(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Q(e,t){const r=G(e);return Math.round(t*r)/r}function H(e){const t=o.useRef(e);return B(()=>{t.current=e}),t}function le(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:f,open:y}=e,[u,g]=o.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,a]=o.useState(n);V(v,n)||a(n);const[p,h]=o.useState(null),[x,C]=o.useState(null),_=o.useCallback(R=>{R!==N.current&&(N.current=R,h(R))},[]),d=o.useCallback(R=>{R!==w.current&&(w.current=R,C(R))},[]),m=i||p,M=l||x,N=o.useRef(null),w=o.useRef(null),E=o.useRef(u),D=f!=null,O=H(f),I=H(s),T=H(y),S=o.useCallback(()=>{if(!N.current||!w.current)return;const R={placement:t,strategy:r,middleware:v};I.current&&(R.platform=I.current),oe(N.current,w.current,R).then(k=>{const b={...k,isPositioned:T.current!==!1};j.current&&!V(E.current,b)&&(E.current=b,ce.flushSync(()=>{g(b)}))})},[v,t,r,I,T]);B(()=>{y===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,g(R=>({...R,isPositioned:!1})))},[y]);const j=o.useRef(!1);B(()=>(j.current=!0,()=>{j.current=!1}),[]),B(()=>{if(m&&(N.current=m),M&&(w.current=M),m&&M){if(O.current)return O.current(m,M,S);S()}},[m,M,S,O,D]);const $=o.useMemo(()=>({reference:N,floating:w,setReference:_,setFloating:d}),[_,d]),q=o.useMemo(()=>({reference:m,floating:M}),[m,M]),F=o.useMemo(()=>{const R={position:r,left:0,top:0};if(!q.floating)return R;const k=Q(q.floating,u.x),b=Q(q.floating,u.y);return c?{...R,transform:"translate("+k+"px, "+b+"px)",...G(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:k,top:b}},[r,c,q.floating,u.x,u.y]);return o.useMemo(()=>({...u,update:S,refs:$,elements:q,floatingStyles:F}),[u,S,$,q,F])}const ue=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Y({element:n.current,padding:s}).fn(r):{}:n?Y({element:n,padding:s}).fn(r):{}}}},fe=(e,t)=>({...se(e),options:[e,t]}),de=(e,t)=>({...ue(e),options:[e,t]}),J={...re},pe=J.useInsertionEffect,me=pe||(e=>e());function Re(e){const t=o.useRef(()=>{});return me(()=>{t.current=e}),o.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}var W=typeof document<"u"?o.useLayoutEffect:o.useEffect;function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K.apply(this,arguments)}let Z=!1,ge=0;const z=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ge++;function ve(){const[e,t]=o.useState(()=>Z?z():void 0);return W(()=>{e==null&&t(z())},[]),o.useEffect(()=>{Z=!0},[]),e}const ye=J.useId,U=ye||ve,he=o.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:i,shift:l}},width:c=14,height:f=7,tipRadius:y=0,strokeWidth:u=0,staticOffset:g,stroke:v,d:a,style:{transform:p,...h}={},...x}=t,C=U(),[_,d]=o.useState(!1);if(W(()=>{if(!s)return;ae(s).direction==="rtl"&&d(!0)},[s]),!s)return null;const[m,M]=n.split("-"),N=m==="top"||m==="bottom";let w=g;(N&&l!=null&&l.x||!N&&l!=null&&l.y)&&(w=null);const E=u*2,D=E/2,O=c/2*(y/-8+1),I=f/2*y/4,T=!!a,S=w&&M==="end"?"bottom":"top";let j=w&&M==="end"?"right":"left";w&&_&&(j=M==="end"?"left":"right");const $=(i==null?void 0:i.x)!=null?w||i.x:"",q=(i==null?void 0:i.y)!=null?w||i.y:"",F=a||"M0,0"+(" H"+c)+(" L"+(c-O)+","+(f-I))+(" Q"+c/2+","+f+" "+O+","+(f-I))+" Z",R={top:T?"rotate(180deg)":"",left:T?"rotate(90deg)":"rotate(-90deg)",bottom:T?"":"rotate(180deg)",right:T?"rotate(-90deg)":"rotate(90deg)"}[m];return o.createElement("svg",K({},x,{"aria-hidden":!0,ref:r,width:T?c:c+E,height:c,viewBox:"0 0 "+c+" "+(f>c?f:c),style:{position:"absolute",pointerEvents:"none",[j]:$,[S]:q,[m]:N||T?"100%":"calc(100% - "+E/2+"px)",transform:[R,p].filter(k=>!!k).join(" "),...h}}),E>0&&o.createElement("path",{clipPath:"url(#"+C+")",fill:"none",stroke:v,strokeWidth:E+(a?0:1),d:F}),o.createElement("path",{stroke:E&&!a?x.fill:"none",d:F}),o.createElement("clipPath",{id:C},o.createElement("rect",{x:-D,y:D*(T?-1:1),width:c+E,height:c})))});function we(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(s=>s(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(s=>s!==r))||[])}}}const Ee=o.createContext(null),xe=o.createContext(null),Me=()=>{var e;return((e=o.useContext(Ee))==null?void 0:e.id)||null},Pe=()=>o.useContext(xe);function Ne(e){const{open:t=!1,onOpenChange:r,elements:n}=e,s=U(),i=o.useRef({}),[l]=o.useState(()=>we()),c=Me()!=null,[f,y]=o.useState(n.reference),u=Re((a,p,h)=>{i.current.openEvent=a?p:void 0,l.emit("openchange",{open:a,event:p,reason:h,nested:c}),r==null||r(a,p,h)}),g=o.useMemo(()=>({setPositionReference:y}),[]),v=o.useMemo(()=>({reference:f||n.reference||null,floating:n.floating||null,domReference:n.reference}),[f,n.reference,n.floating]);return o.useMemo(()=>({dataRef:i,open:t,onOpenChange:u,elements:v,events:l,floatingId:s,refs:g}),[t,u,v,l,s,g])}function Te(e){e===void 0&&(e={});const{nodeId:t}=e,r=Ne({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,s=n.elements,[i,l]=o.useState(null),[c,f]=o.useState(null),u=(s==null?void 0:s.domReference)||i,g=o.useRef(null),v=Pe();W(()=>{u&&(g.current=u)},[u]);const a=le({...e,elements:{...s,...c&&{reference:c}}}),p=o.useCallback(d=>{const m=A(d)?{getBoundingClientRect:()=>d.getBoundingClientRect(),contextElement:d}:d;f(m),a.refs.setReference(m)},[a.refs]),h=o.useCallback(d=>{(A(d)||d===null)&&(g.current=d,l(d)),(A(a.refs.reference.current)||a.refs.reference.current===null||d!==null&&!A(d))&&a.refs.setReference(d)},[a.refs]),x=o.useMemo(()=>({...a.refs,setReference:h,setPositionReference:p,domReference:g}),[a.refs,h,p]),C=o.useMemo(()=>({...a.elements,domReference:u}),[a.elements,u]),_=o.useMemo(()=>({...a,...n,refs:x,elements:C,nodeId:t}),[a,x,C,t,n]);return W(()=>{n.dataRef.current.floatingContext=_;const d=v==null?void 0:v.nodesRef.current.find(m=>m.id===t);d&&(d.context=_)}),o.useMemo(()=>({...a,context:_,refs:x,elements:C}),[a,x,C,_])}const Ce="af-popover__container",ee=({placement:e,children:t,isOpen:r,target:n,className:s,classModifier:i,onMouseEnter:l,onMouseLeave:c})=>{const f=ie(s,i,Ce),[y,u]=L.useState(null),[g,v]=L.useState(null),a=o.useRef(null),{floatingStyles:p,context:h}=Te({placement:e,elements:{reference:y,floating:g},middleware:[fe(12),de({element:a})]});return P.jsxs("div",{className:f,children:[P.jsx("div",{ref:u,className:"af-popover__container-over",role:"presentation",children:n}),r&&P.jsxs("div",{ref:v,onMouseEnter:l,onMouseLeave:c,style:p,"data-popper-placement":e,className:"af-popover__container-pop",children:[P.jsx("div",{children:t}),P.jsx(he,{ref:a,context:h,fill:"white"})]})]})};ee.__docgenInfo={description:"",methods:[],displayName:"AnimatedPopover",props:{placement:{required:!0,tsType:{name:"Placement"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},target:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},classModifier:{required:!1,tsType:{name:"string"},description:""},onMouseEnter:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.MouseEvent) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent"},name:"event"}],return:{name:"void"}}},description:""},onMouseLeave:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.MouseEvent) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent"},name:"event"}],return:{name:"void"}}},description:""}}};const _e="af-popover__container",X=({children:e,isOpen:t,placement:r="right",className:n=_e,classModifier:s,element:i,onMouseEnter:l,onMouseLeave:c})=>P.jsx(ee,{target:e,placement:r,isOpen:t,className:n,classModifier:s,onMouseEnter:l,onMouseLeave:c,children:i});X.__docgenInfo={description:"",methods:[],displayName:"PopoverBase",props:{placement:{required:!1,tsType:{name:"Placement"},description:"",defaultValue:{value:'"right"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"af-popover__container"',computed:!1}},classModifier:{required:!1,tsType:{name:"string"},description:""},element:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},children:{required:!0,tsType:{name:"union",raw:"React.ReactNode | React.ReactNode[]",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"}]},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},onMouseEnter:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.MouseEvent) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent"},name:"event"}],return:{name:"void"}}},description:""},onMouseLeave:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.MouseEvent) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent"},name:"event"}],return:{name:"void"}}},description:""}}};const te=({children:e,placement:t,className:r,classModifier:n,element:s})=>{const i=L.useRef(null),[l,c]=L.useState(!1),[f,y]=L.useState(!1),u=(p,h)=>{if(f||!i.current||h===l){p.stopPropagation();return}c(x=>h??!x)},g=p=>{p.key==="Enter"&&u(p)},v=()=>{y(!0)},a=()=>{y(!1)};return P.jsx("div",{role:"button",tabIndex:0,ref:i,className:"af-popover__wrapper af-popover__wrapper--click",onKeyDown:g,onClick:u,onBlur:p=>u(p,!1),children:P.jsx(X,{onMouseEnter:v,onMouseLeave:a,isOpen:l,placement:t,className:r,classModifier:n,element:s,children:e})})};te.__docgenInfo={description:"",methods:[],displayName:"PopoverClick",props:{className:{required:!1,tsType:{name:"string"},description:""},classModifier:{required:!1,tsType:{name:"string"},description:""},placement:{required:!1,tsType:{name:"Placement"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},element:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const ne=({children:e,placement:t,className:r,classModifier:n,element:s})=>{const[i,l]=L.useState(!1),c=()=>{l(!0)},f=()=>{l(!1)};return P.jsx("div",{role:"button",tabIndex:0,className:"af-popover__wrapper af-popover__wrapper--over",onMouseEnter:c,onMouseLeave:f,onFocus:c,onBlur:f,children:P.jsx(X,{isOpen:i,placement:t,className:r,classModifier:n,element:s,children:e})})};ne.__docgenInfo={description:"",methods:[],displayName:"PopoverOver",props:{className:{required:!1,tsType:{name:"string"},description:""},classModifier:{required:!1,tsType:{name:"string"},description:""},placement:{required:!1,tsType:{name:"Placement"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},element:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const qe=({children:e,placement:t="top",className:r,classModifier:n,mode:s="click",popoverElement:i})=>{const l=s==="click"?te:ne;return P.jsx(l,{className:r,classModifier:n,placement:t,element:i,children:e})};qe.__docgenInfo={description:"",methods:[],displayName:"Popover",props:{className:{required:!1,tsType:{name:"string"},description:""},classModifier:{required:!1,tsType:{name:"string"},description:""},placement:{required:!1,tsType:{name:"Placement"},description:"",defaultValue:{value:'"top"',computed:!1}},mode:{required:!1,tsType:{name:"union",raw:'"hover" | "click"',elements:[{name:"literal",value:'"hover"'},{name:"literal",value:'"click"'}]},description:"",defaultValue:{value:'"click"',computed:!1}},popoverElement:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};export{qe as P};
