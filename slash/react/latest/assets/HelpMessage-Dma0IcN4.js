import{j as l}from"./jsx-runtime-Cw0GR0a5.js";import{c as _}from"./index-CCQ3W5xA.js";import{g as h}from"./getComponentClassName-C7V7Z2-u.js";import{r as p}from"./index-CTjT7uj6.js";var i=(e=>(e.error="error",e.success="success",e.warning="warning",e))(i||{});const C="af-form__message",v=({message:e=null,messageType:s=i.error})=>{const a=h(C,s,C);return e&&l.jsxs("small",{className:a,children:[l.jsx("span",{className:"glyphicon glyphicon-exclamation-sign"}),l.jsx("span",{className:`af-form__${s}-text`,children:e})]})};v.__docgenInfo={description:"",methods:[],displayName:"FieldError",props:{message:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"",defaultValue:{value:"null",computed:!1}},messageType:{required:!1,tsType:{name:"MessageTypes"},description:"",defaultValue:{value:"MessageTypes.error",computed:!0}}}};const b=(e,s)=>s?`${e} disabled`:e,I=(e,s)=>s?`${e} hasinfobulle`:e,N=e=>{let s="error";switch(e){case i.success:s="success";break;case i.warning:s="warning";break}return s},x=(e,s,a)=>{if(!s)return"";const n=N(e);return n?a?`${a} ${n}`:n:""},E={getFieldInputClassModifier:b,getInputClassModifier:I,getModifier:N,getMessageClassModifier:x},q="md-10",j={hasLostFocusOnce:!1,hasFocus:!1,hasChange:!1,memory:{message:"",messageType:i.error}},B=({message:e,messageType:s=i.error})=>a=>({...a,memory:{message:e,messageType:s}}),L=()=>e=>({...e,hasChange:!0}),H=(e,s,a=L)=>!s&&e(a()),O=()=>e=>({...e,hasLostFocusOnce:!0,hasFocus:!1}),R=({message:e,messageType:s=i.error})=>a=>({...a,hasFocus:!0,memory:{message:e,messageType:s}}),k=({forceDisplayMessage:e,hasLostFocusOnce:s,hasFocus:a,memory:n,hasChange:t,message:r,messageType:o})=>s||e||t&&!a?a?n:{message:r,messageType:o}:{message:"",messageType:""},A=({wrapper:e,props:s})=>({onChange:a=>{var n;(n=e==null?void 0:e.onChange)==null||n.call(e,a),s.onChange&&s.onChange(a)},onBlur:a=>{var n;(n=e==null?void 0:e.onBlur)==null||n.call(e,a),s.onBlur&&s.onBlur(a)},onFocus:a=>{var n;(n=e==null?void 0:e.onFocus)==null||n.call(e,a),s.onFocus&&s.onFocus(a)}}),$=({message:e,messageType:s,classModifier:a,wrapper:n,child:t,name:r,getMessageClassModifierFn:o=E.getMessageClassModifier,eventWrapperFn:u=A,...g})=>{const f=o(s,e,a),d={...g};switch((d==null?void 0:d.displayName)??r){case"HelpMessage":return{isVisible:!e};case"FieldError":return{message:e};case"FieldInput":return{classModifier:f};case"EnhancedInputRadio":case"EnhancedInputCheckbox":return{...u({wrapper:n,props:t.props}),classModifier:f};case"EnhancedInput":return{...u({wrapper:n,props:t.props})};default:return{}}},T=({children:e,wrapper:s,message:a,messageType:n})=>p.Children.map(e,t=>{if(!p.isValidElement(t)||typeof t.type=="string")return t;const r={...t.props};if(t.props.children){const o=T({children:t.props.children,wrapper:s,message:a,messageType:n});o!==null&&(r.children=o)}return p.cloneElement(t,{...r,...$({...t.type,name:t.type.name,message:a,messageType:n,classModifier:r.classModifier,wrapper:s,child:t})})}),S=({children:e,message:s="",messageType:a=i.error,className:n=q,classModifier:t="",forceDisplayMessage:r=!1,setStateMemoryFn:o=B,onChangeByStateFn:u=H,setStateOnBlurFn:g=O,setStateOnFocusFn:f=R,initialState:d=j})=>{const[c,m]=p.useState(d),y=p.useRef(r);p.useEffect(()=>{y.current!==r&&m(o({message:s,messageType:a}))},[r,s,a,y,m,o]);const M=T({children:e,wrapper:{onFocus:()=>m(f({message:s,messageType:a})),onChange:()=>u(m,c==null?void 0:c.hasChange),onBlur:()=>m(g())},...k({...c,forceDisplayMessage:r,message:s,messageType:a})}),V=h(n,t,q);return l.jsx("div",{className:V,children:M})};T.__docgenInfo={description:"",methods:[],displayName:"renderedChildren",props:{wrapper:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  onChange?: Function;
  onBlur?: Function;
  onFocus?: Function;
}`,signature:{properties:[{key:"onChange",value:{name:"Function",required:!1}},{key:"onBlur",value:{name:"Function",required:!1}},{key:"onFocus",value:{name:"Function",required:!1}}]}},description:""}}};S.__docgenInfo={description:"",methods:[],displayName:"FieldForm",props:{message:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},messageType:{required:!1,tsType:{name:"MessageTypes"},description:"",defaultValue:{value:"MessageTypes.error",computed:!0}},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"md-10"',computed:!1}},classModifier:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},forceDisplayMessage:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!0,tsType:{name:"ReactNode"},description:""},setStateMemoryFn:{required:!1,tsType:{name:"setStateMemory"},description:"",defaultValue:{value:`({ message, messageType = MessageTypes.error }: TMessage): SetState =>
(prevState) => ({
  ...prevState,
  memory: {
    message,
    messageType,
  },
})`,computed:!1}},onChangeByStateFn:{required:!1,tsType:{name:"onChangeByState"},description:"",defaultValue:{value:`(
  setState: Function,
  stateHasChange: boolean,
  setStateHasChangeFn = setStateHasChange,
) => !stateHasChange && setState(setStateHasChangeFn())`,computed:!1}},setStateOnBlurFn:{required:!1,tsType:{name:"setStateOnBlur"},description:"",defaultValue:{value:`(): SetState => (prevState) => ({
  ...prevState,
  hasLostFocusOnce: true,
  hasFocus: false,
})`,computed:!1}},setStateOnFocusFn:{required:!1,tsType:{name:"setStateOnFocus"},description:"",defaultValue:{value:`({ message, messageType = MessageTypes.error }: TMessage): SetState =>
(prevState) => ({
  ...prevState,
  hasFocus: true,
  memory: { message, messageType },
})`,computed:!1}},initialState:{required:!1,tsType:{name:"INITIAL_STATE"},description:"",defaultValue:{value:`{
  hasLostFocusOnce: false,
  hasFocus: false,
  hasChange: false,
  memory: { message: "", messageType: MessageTypes.error } as TMessage,
}`,computed:!1}}}};const D=({id:e="",message:s="",messageType:a=i.error,label:n,children:t,forceDisplayMessage:r,classModifier:o="",className:u,classNameContainerLabel:g="col-md-2",classNameContainerInput:f="col-md-10",isVisible:d=!0,roleContainer:c,ariaLabelContainer:m,isLabelContainerLinkedToInput:y=!0})=>{if(!d)return null;const F=h(u,o,"row af-form__group");return l.jsxs("div",{className:F,role:c,"aria-label":m,children:[l.jsx("div",{className:g,children:l.jsx("label",{className:_({"af-form__group-label--required":o.includes("required")},"af-form__group-label"),htmlFor:y?e:void 0,children:n})}),l.jsxs(S,{className:f,message:s,messageType:a,forceDisplayMessage:r,children:[t,l.jsx(v,{message:s,messageType:a})]})]})};D.__docgenInfo={description:"",methods:[],displayName:"Field",props:{label:{required:!0,tsType:{name:"ReactNode"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},id:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classModifier:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameContainerLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"col-md-2"',computed:!1}},classNameContainerInput:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"col-md-10"',computed:!1}},isVisible:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},roleContainer:{required:!1,tsType:{name:"string"},description:""},ariaLabelContainer:{required:!1,tsType:{name:"string"},description:""},isLabelContainerLinkedToInput:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},message:{defaultValue:{value:'""',computed:!1},required:!1},messageType:{defaultValue:{value:"MessageTypes.error",computed:!0},required:!1}}};const P=({children:e,className:s="",classModifier:a="",isVisible:n=!0})=>{if(!n)return null;const t=h(s,a,"");return l.jsx("div",{className:t,children:e})};P.__docgenInfo={description:"",methods:[],displayName:"FieldInput",props:{isVisible:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classModifier:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},children:{required:!1,tsType:{name:"ReactNode"},description:""}}};const U=({message:e,isVisible:s=!0})=>s&&l.jsx("small",{className:"af-form__help",children:e});U.__docgenInfo={description:"",methods:[],displayName:"HelpMessage",props:{message:{required:!1,tsType:{name:"ReactNode"},description:""},isVisible:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};export{D as F,U as H,i as M,P as a};
