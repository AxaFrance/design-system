import{j as O}from"./jsx-runtime-D_zvdyIk.js";import{r as h,R as Me,e as K}from"./index-ZnYipkzV.js";import{r as ze}from"./index-63p0MazF.js";import{g as Xe}from"./CardData-BOncjv5M.js";const Q=Math.min,X=Math.max,oe=Math.round,te=Math.floor,_=e=>({x:e,y:e});function Ye(e,t,o){return X(e,Q(t,o))}function Pe(e,t){return typeof e=="function"?e(t):e}function me(e){return e.split("-")[0]}function pe(e){return e.split("-")[1]}function qe(e){return e==="x"?"y":"x"}function Ae(e){return e==="y"?"height":"width"}const Ke=new Set(["top","bottom"]);function he(e){return Ke.has(me(e))?"y":"x"}function Te(e){return qe(he(e))}function Ue(e){return{top:0,right:0,bottom:0,left:0,...e}}function Qe(e){return typeof e!="number"?Ue(e):{top:e,right:e,bottom:e,left:e}}function De(e){const{x:t,y:o,width:n,height:r}=e;return{width:n,height:r,top:o,left:t,right:t+n,bottom:o+r,x:t,y:o}}function ye(e,t,o){let{reference:n,floating:r}=e;const i=he(t),s=Te(t),c=Ae(s),f=me(t),a=i==="y",u=n.x+n.width/2-r.width/2,d=n.y+n.height/2-r.height/2,p=n[c]/2-r[c]/2;let l;switch(f){case"top":l={x:u,y:n.y-r.height};break;case"bottom":l={x:u,y:n.y+n.height};break;case"right":l={x:n.x+n.width,y:d};break;case"left":l={x:n.x-r.width,y:d};break;default:l={x:n.x,y:n.y}}switch(pe(t)){case"start":l[s]-=p*(o&&a?-1:1);break;case"end":l[s]+=p*(o&&a?-1:1);break}return l}const Ze=async(e,t,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:s}=o,c=i.filter(Boolean),f=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=ye(a,n,f),p=n,l={},m=0;for(let g=0;g<c.length;g++){const{name:x,fn:y}=c[g],{x:R,y:w,data:v,reset:b}=await y({x:u,y:d,initialPlacement:n,placement:p,strategy:r,middlewareData:l,rects:a,platform:s,elements:{reference:e,floating:t}});u=R??u,d=w??d,l={...l,[x]:{...l[x],...v}},b&&m<=50&&(m++,typeof b=="object"&&(b.placement&&(p=b.placement),b.rects&&(a=b.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):b.rects),{x:u,y:d}=ye(a,p,f)),g=-1)}return{x:u,y:d,placement:p,strategy:r,middlewareData:l}},Ge=e=>({name:"arrow",options:e,async fn(t){const{x:o,y:n,placement:r,rects:i,platform:s,elements:c,middlewareData:f}=t,{element:a,padding:u=0}=Pe(e,t)||{};if(a==null)return{};const d=Qe(u),p={x:o,y:n},l=Te(r),m=Ae(l),g=await s.getDimensions(a),x=l==="y",y=x?"top":"left",R=x?"bottom":"right",w=x?"clientHeight":"clientWidth",v=i.reference[m]+i.reference[l]-p[l]-i.floating[m],b=p[l]-i.reference[l],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a));let C=E?E[w]:0;(!C||!await(s.isElement==null?void 0:s.isElement(E)))&&(C=c.floating[w]||i.floating[m]);const P=v/2-b/2,H=C/2-g[m]/2-1,W=Q(d[y],H),B=Q(d[R],H),L=W,N=C-g[m]-B,A=C/2-g[m]/2+P,I=Ye(L,A,N),T=!f.arrow&&pe(r)!=null&&A!==I&&i.reference[m]/2-(A<L?W:B)-g[m]/2<0,$=T?A<L?A-L:A-N:0;return{[l]:p[l]+$,data:{[l]:I,centerOffset:A-I-$,...T&&{alignmentOffset:$}},reset:T}}}),Je=new Set(["left","top"]);async function et(e,t){const{placement:o,platform:n,elements:r}=e,i=await(n.isRTL==null?void 0:n.isRTL(r.floating)),s=me(o),c=pe(o),f=he(o)==="y",a=Je.has(s)?-1:1,u=i&&f?-1:1,d=Pe(t,e);let{mainAxis:p,crossAxis:l,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return c&&typeof m=="number"&&(l=c==="end"?m*-1:m),f?{x:l*u,y:p*a}:{x:p*a,y:l*u}}const tt=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,n;const{x:r,y:i,placement:s,middlewareData:c}=t,f=await et(t,e);return s===((o=c.offset)==null?void 0:o.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+f.x,y:i+f.y,data:{...f,placement:s}}}}};function ie(){return typeof window<"u"}function G(e){return Fe(e)?(e.nodeName||"").toLowerCase():"#document"}function D(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function j(e){var t;return(t=(Fe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Fe(e){return ie()?e instanceof Node||e instanceof D(e).Node:!1}function M(e){return ie()?e instanceof Element||e instanceof D(e).Element:!1}function k(e){return ie()?e instanceof HTMLElement||e instanceof D(e).HTMLElement:!1}function ve(e){return!ie()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof D(e).ShadowRoot}const nt=new Set(["inline","contents"]);function ee(e){const{overflow:t,overflowX:o,overflowY:n,display:r}=F(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+o)&&!nt.has(r)}const ot=new Set(["table","td","th"]);function rt(e){return ot.has(G(e))}const st=[":popover-open",":modal"];function ce(e){return st.some(t=>{try{return e.matches(t)}catch{return!1}})}const it=["transform","translate","scale","rotate","perspective"],ct=["transform","translate","scale","rotate","perspective","filter"],lt=["paint","layout","strict","content"];function ge(e){const t=we(),o=M(e)?F(e):e;return it.some(n=>o[n]?o[n]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||ct.some(n=>(o.willChange||"").includes(n))||lt.some(n=>(o.contain||"").includes(n))}function ft(e){let t=V(e);for(;k(t)&&!Z(t);){if(ge(t))return t;if(ce(t))return null;t=V(t)}return null}function we(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const at=new Set(["html","body","#document"]);function Z(e){return at.has(G(e))}function F(e){return D(e).getComputedStyle(e)}function le(e){return M(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function V(e){if(G(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ve(e)&&e.host||j(e);return ve(t)?t.host:t}function Ne(e){const t=V(e);return Z(t)?e.ownerDocument?e.ownerDocument.body:e.body:k(t)&&ee(t)?t:Ne(t)}function J(e,t,o){var n;t===void 0&&(t=[]),o===void 0&&(o=!0);const r=Ne(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=D(r);if(i){const c=de(s);return t.concat(s,s.visualViewport||[],ee(r)?r:[],c&&o?J(c):[])}return t.concat(r,J(r,[],o))}function de(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _e(e){const t=F(e);let o=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=k(e),i=r?e.offsetWidth:o,s=r?e.offsetHeight:n,c=oe(o)!==i||oe(n)!==s;return c&&(o=i,n=s),{width:o,height:n,$:c}}function xe(e){return M(e)?e:e.contextElement}function U(e){const t=xe(e);if(!k(t))return _(1);const o=t.getBoundingClientRect(),{width:n,height:r,$:i}=_e(t);let s=(i?oe(o.width):o.width)/n,c=(i?oe(o.height):o.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const ut=_(0);function ke(e){const t=D(e);return!we()||!t.visualViewport?ut:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dt(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==D(e)?!1:t}function Y(e,t,o,n){t===void 0&&(t=!1),o===void 0&&(o=!1);const r=e.getBoundingClientRect(),i=xe(e);let s=_(1);t&&(n?M(n)&&(s=U(n)):s=U(e));const c=dt(i,o,n)?ke(i):_(0);let f=(r.left+c.x)/s.x,a=(r.top+c.y)/s.y,u=r.width/s.x,d=r.height/s.y;if(i){const p=D(i),l=n&&M(n)?D(n):n;let m=p,g=de(m);for(;g&&n&&l!==m;){const x=U(g),y=g.getBoundingClientRect(),R=F(g),w=y.left+(g.clientLeft+parseFloat(R.paddingLeft))*x.x,v=y.top+(g.clientTop+parseFloat(R.paddingTop))*x.y;f*=x.x,a*=x.y,u*=x.x,d*=x.y,f+=w,a+=v,m=D(g),g=de(m)}}return De({width:u,height:d,x:f,y:a})}function fe(e,t){const o=le(e).scrollLeft;return t?t.left+o:Y(j(e)).left+o}function je(e,t){const o=e.getBoundingClientRect(),n=o.left+t.scrollLeft-fe(e,o),r=o.top+t.scrollTop;return{x:n,y:r}}function mt(e){let{elements:t,rect:o,offsetParent:n,strategy:r}=e;const i=r==="fixed",s=j(n),c=t?ce(t.floating):!1;if(n===s||c&&i)return o;let f={scrollLeft:0,scrollTop:0},a=_(1);const u=_(0),d=k(n);if((d||!d&&!i)&&((G(n)!=="body"||ee(s))&&(f=le(n)),k(n))){const l=Y(n);a=U(n),u.x=l.x+n.clientLeft,u.y=l.y+n.clientTop}const p=s&&!d&&!i?je(s,f):_(0);return{width:o.width*a.x,height:o.height*a.y,x:o.x*a.x-f.scrollLeft*a.x+u.x+p.x,y:o.y*a.y-f.scrollTop*a.y+u.y+p.y}}function pt(e){return Array.from(e.getClientRects())}function ht(e){const t=j(e),o=le(e),n=e.ownerDocument.body,r=X(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=X(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-o.scrollLeft+fe(e);const c=-o.scrollTop;return F(n).direction==="rtl"&&(s+=X(t.clientWidth,n.clientWidth)-r),{width:r,height:i,x:s,y:c}}const Re=25;function gt(e,t){const o=D(e),n=j(e),r=o.visualViewport;let i=n.clientWidth,s=n.clientHeight,c=0,f=0;if(r){i=r.width,s=r.height;const u=we();(!u||u&&t==="fixed")&&(c=r.offsetLeft,f=r.offsetTop)}const a=fe(n);if(a<=0){const u=n.ownerDocument,d=u.body,p=getComputedStyle(d),l=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,m=Math.abs(n.clientWidth-d.clientWidth-l);m<=Re&&(i-=m)}else a<=Re&&(i+=a);return{width:i,height:s,x:c,y:f}}const wt=new Set(["absolute","fixed"]);function xt(e,t){const o=Y(e,!0,t==="fixed"),n=o.top+e.clientTop,r=o.left+e.clientLeft,i=k(e)?U(e):_(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,f=r*i.x,a=n*i.y;return{width:s,height:c,x:f,y:a}}function be(e,t,o){let n;if(t==="viewport")n=gt(e,o);else if(t==="document")n=ht(j(e));else if(M(t))n=xt(t,o);else{const r=ke(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return De(n)}function We(e,t){const o=V(e);return o===t||!M(o)||Z(o)?!1:F(o).position==="fixed"||We(o,t)}function yt(e,t){const o=t.get(e);if(o)return o;let n=J(e,[],!1).filter(c=>M(c)&&G(c)!=="body"),r=null;const i=F(e).position==="fixed";let s=i?V(e):e;for(;M(s)&&!Z(s);){const c=F(s),f=ge(s);!f&&c.position==="fixed"&&(r=null),(i?!f&&!r:!f&&c.position==="static"&&!!r&&wt.has(r.position)||ee(s)&&!f&&We(e,s))?n=n.filter(u=>u!==s):r=c,s=V(s)}return t.set(e,n),n}function vt(e){let{element:t,boundary:o,rootBoundary:n,strategy:r}=e;const s=[...o==="clippingAncestors"?ce(t)?[]:yt(t,this._c):[].concat(o),n],c=s[0],f=s.reduce((a,u)=>{const d=be(t,u,r);return a.top=X(d.top,a.top),a.right=Q(d.right,a.right),a.bottom=Q(d.bottom,a.bottom),a.left=X(d.left,a.left),a},be(t,c,r));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Rt(e){const{width:t,height:o}=_e(e);return{width:t,height:o}}function bt(e,t,o){const n=k(t),r=j(t),i=o==="fixed",s=Y(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const f=_(0);function a(){f.x=fe(r)}if(n||!n&&!i)if((G(t)!=="body"||ee(r))&&(c=le(t)),n){const l=Y(t,!0,i,t);f.x=l.x+t.clientLeft,f.y=l.y+t.clientTop}else r&&a();i&&!n&&r&&a();const u=r&&!n&&!i?je(r,c):_(0),d=s.left+c.scrollLeft-f.x-u.x,p=s.top+c.scrollTop-f.y-u.y;return{x:d,y:p,width:s.width,height:s.height}}function ae(e){return F(e).position==="static"}function Ce(e,t){if(!k(e)||F(e).position==="fixed")return null;if(t)return t(e);let o=e.offsetParent;return j(e)===o&&(o=o.ownerDocument.body),o}function Be(e,t){const o=D(e);if(ce(e))return o;if(!k(e)){let r=V(e);for(;r&&!Z(r);){if(M(r)&&!ae(r))return r;r=V(r)}return o}let n=Ce(e,t);for(;n&&rt(n)&&ae(n);)n=Ce(n,t);return n&&Z(n)&&ae(n)&&!ge(n)?o:n||ft(e)||o}const Ct=async function(e){const t=this.getOffsetParent||Be,o=this.getDimensions,n=await o(e.floating);return{reference:bt(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Et(e){return F(e).direction==="rtl"}const St={convertOffsetParentRelativeRectToViewportRelativeRect:mt,getDocumentElement:j,getClippingRect:vt,getOffsetParent:Be,getElementRects:Ct,getClientRects:pt,getDimensions:Rt,getScale:U,isElement:M,isRTL:Et};function $e(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ot(e,t){let o=null,n;const r=j(e);function i(){var c;clearTimeout(n),(c=o)==null||c.disconnect(),o=null}function s(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),i();const a=e.getBoundingClientRect(),{left:u,top:d,width:p,height:l}=a;if(c||t(),!p||!l)return;const m=te(d),g=te(r.clientWidth-(u+p)),x=te(r.clientHeight-(d+l)),y=te(u),w={rootMargin:-m+"px "+-g+"px "+-x+"px "+-y+"px",threshold:X(0,Q(1,f))||1};let v=!0;function b(E){const C=E[0].intersectionRatio;if(C!==f){if(!v)return s();C?s(!1,C):n=setTimeout(()=>{s(!1,1e-7)},1e3)}C===1&&!$e(a,e.getBoundingClientRect())&&s(),v=!1}try{o=new IntersectionObserver(b,{...w,root:r.ownerDocument})}catch{o=new IntersectionObserver(b,w)}o.observe(e)}return s(!0),i}function fn(e,t,o,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,a=xe(e),u=r||i?[...a?J(a):[],...J(t)]:[];u.forEach(y=>{r&&y.addEventListener("scroll",o,{passive:!0}),i&&y.addEventListener("resize",o)});const d=a&&c?Ot(a,o):null;let p=-1,l=null;s&&(l=new ResizeObserver(y=>{let[R]=y;R&&R.target===a&&l&&(l.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=l)==null||w.observe(t)})),o()}),a&&!f&&l.observe(a),l.observe(t));let m,g=f?Y(e):null;f&&x();function x(){const y=Y(e);g&&!$e(g,y)&&o(),g=y,m=requestAnimationFrame(x)}return o(),()=>{var y;u.forEach(R=>{r&&R.removeEventListener("scroll",o),i&&R.removeEventListener("resize",o)}),d==null||d(),(y=l)==null||y.disconnect(),l=null,f&&cancelAnimationFrame(m)}}const Lt=tt,Ee=Ge,Mt=(e,t,o)=>{const n=new Map,r={platform:St,...o},i={...r.platform,_c:n};return Ze(e,t,{...r,platform:i})};var Pt=typeof document<"u",At=function(){},re=Pt?h.useLayoutEffect:At;const Tt={...Me},Dt=Tt.useInsertionEffect,Ft=Dt||(e=>e());function Nt(e){const t=h.useRef(()=>{});return Ft(()=>{t.current=e}),h.useCallback(function(){for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t.current==null?void 0:t.current(...n)},[])}var _t=typeof document<"u",kt=function(){},ne=_t?h.useLayoutEffect:kt;function se(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let o,n,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(n=o;n--!==0;)if(!se(e[n],t[n]))return!1;return!0}if(r=Object.keys(e),o=r.length,o!==Object.keys(t).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=o;n--!==0;){const i=r[n];if(!(i==="_owner"&&e.$$typeof)&&!se(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Ie(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Se(e,t){const o=Ie(e);return Math.round(t*o)/o}function ue(e){const t=h.useRef(e);return ne(()=>{t.current=e}),t}function jt(e){e===void 0&&(e={});const{placement:t="bottom",strategy:o="absolute",middleware:n=[],platform:r,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:f,open:a}=e,[u,d]=h.useState({x:0,y:0,strategy:o,placement:t,middlewareData:{},isPositioned:!1}),[p,l]=h.useState(n);se(p,n)||l(n);const[m,g]=h.useState(null),[x,y]=h.useState(null),R=h.useCallback(S=>{S!==E.current&&(E.current=S,g(S))},[]),w=h.useCallback(S=>{S!==C.current&&(C.current=S,y(S))},[]),v=i||m,b=s||x,E=h.useRef(null),C=h.useRef(null),P=h.useRef(u),H=f!=null,W=ue(f),B=ue(r),L=ue(a),N=h.useCallback(()=>{if(!E.current||!C.current)return;const S={placement:t,strategy:o,middleware:p};B.current&&(S.platform=B.current),Mt(E.current,C.current,S).then(z=>{const q={...z,isPositioned:L.current!==!1};A.current&&!se(P.current,q)&&(P.current=q,ze.flushSync(()=>{d(q)}))})},[p,t,o,B,L]);ne(()=>{a===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,d(S=>({...S,isPositioned:!1})))},[a]);const A=h.useRef(!1);ne(()=>(A.current=!0,()=>{A.current=!1}),[]),ne(()=>{if(v&&(E.current=v),b&&(C.current=b),v&&b){if(W.current)return W.current(v,b,N);N()}},[v,b,N,W,H]);const I=h.useMemo(()=>({reference:E,floating:C,setReference:R,setFloating:w}),[R,w]),T=h.useMemo(()=>({reference:v,floating:b}),[v,b]),$=h.useMemo(()=>{const S={position:o,left:0,top:0};if(!T.floating)return S;const z=Se(T.floating,u.x),q=Se(T.floating,u.y);return c?{...S,transform:"translate("+z+"px, "+q+"px)",...Ie(T.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:z,top:q}},[o,c,T.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:N,refs:I,elements:T,floatingStyles:$}),[u,N,I,T,$])}const Wt=e=>{function t(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){const{element:n,padding:r}=typeof e=="function"?e(o):e;return n&&t(n)?n.current!=null?Ee({element:n.current,padding:r}).fn(o):{}:n?Ee({element:n,padding:r}).fn(o):{}}}},Bt=(e,t)=>({...Lt(e),options:[e,t]}),$t=(e,t)=>({...Wt(e),options:[e,t]}),It={...Me};let Oe=!1,Vt=0;const Le=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Vt++;function Ht(){const[e,t]=h.useState(()=>Oe?Le():void 0);return re(()=>{e==null&&t(Le())},[]),h.useEffect(()=>{Oe=!0},[]),e}const zt=It.useId,Ve=zt||Ht,Xt=h.forwardRef(function(t,o){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:i,shift:s}},width:c=14,height:f=7,tipRadius:a=0,strokeWidth:u=0,staticOffset:d,stroke:p,d:l,style:{transform:m,...g}={},...x}=t,y=Ve(),[R,w]=h.useState(!1);if(re(()=>{if(!r)return;F(r).direction==="rtl"&&w(!0)},[r]),!r)return null;const[v,b]=n.split("-"),E=v==="top"||v==="bottom";let C=d;(E&&s!=null&&s.x||!E&&s!=null&&s.y)&&(C=null);const P=u*2,H=P/2,W=c/2*(a/-8+1),B=f/2*a/4,L=!!l,N=C&&b==="end"?"bottom":"top";let A=C&&b==="end"?"right":"left";C&&R&&(A=b==="end"?"left":"right");const I=(i==null?void 0:i.x)!=null?C||i.x:"",T=(i==null?void 0:i.y)!=null?C||i.y:"",$=l||"M0,0"+(" H"+c)+(" L"+(c-W)+","+(f-B))+(" Q"+c/2+","+f+" "+W+","+(f-B))+" Z",S={top:L?"rotate(180deg)":"",left:L?"rotate(90deg)":"rotate(-90deg)",bottom:L?"":"rotate(180deg)",right:L?"rotate(-90deg)":"rotate(90deg)"}[v];return O.jsxs("svg",{...x,"aria-hidden":!0,ref:o,width:L?c:c+P,height:c,viewBox:"0 0 "+c+" "+(f>c?f:c),style:{position:"absolute",pointerEvents:"none",[A]:I,[N]:T,[v]:E||L?"100%":"calc(100% - "+P/2+"px)",transform:[S,m].filter(z=>!!z).join(" "),...g},children:[P>0&&O.jsx("path",{clipPath:"url(#"+y+")",fill:"none",stroke:p,strokeWidth:P+(l?0:1),d:$}),O.jsx("path",{stroke:P&&!l?x.fill:"none",d:$}),O.jsx("clipPath",{id:y,children:O.jsx("rect",{x:-H,y:H*(L?-1:1),width:c+P,height:c})})]})});function Yt(){const e=new Map;return{emit(t,o){var n;(n=e.get(t))==null||n.forEach(r=>r(o))},on(t,o){e.has(t)||e.set(t,new Set),e.get(t).add(o)},off(t,o){var n;(n=e.get(t))==null||n.delete(o)}}}const qt=h.createContext(null),Kt=h.createContext(null),Ut=()=>{var e;return((e=h.useContext(qt))==null?void 0:e.id)||null},Qt=()=>h.useContext(Kt);function Zt(e){const{open:t=!1,onOpenChange:o,elements:n}=e,r=Ve(),i=h.useRef({}),[s]=h.useState(()=>Yt()),c=Ut()!=null,[f,a]=h.useState(n.reference),u=Nt((l,m,g)=>{i.current.openEvent=l?m:void 0,s.emit("openchange",{open:l,event:m,reason:g,nested:c}),o==null||o(l,m,g)}),d=h.useMemo(()=>({setPositionReference:a}),[]),p=h.useMemo(()=>({reference:f||n.reference||null,floating:n.floating||null,domReference:n.reference}),[f,n.reference,n.floating]);return h.useMemo(()=>({dataRef:i,open:t,onOpenChange:u,elements:p,events:s,floatingId:r,refs:d}),[t,u,p,s,r,d])}function Gt(e){e===void 0&&(e={});const{nodeId:t}=e,o=Zt({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||o,r=n.elements,[i,s]=h.useState(null),[c,f]=h.useState(null),u=(r==null?void 0:r.domReference)||i,d=h.useRef(null),p=Qt();re(()=>{u&&(d.current=u)},[u]);const l=jt({...e,elements:{...r,...c&&{reference:c}}}),m=h.useCallback(w=>{const v=M(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),getClientRects:()=>w.getClientRects(),contextElement:w}:w;f(v),l.refs.setReference(v)},[l.refs]),g=h.useCallback(w=>{(M(w)||w===null)&&(d.current=w,s(w)),(M(l.refs.reference.current)||l.refs.reference.current===null||w!==null&&!M(w))&&l.refs.setReference(w)},[l.refs]),x=h.useMemo(()=>({...l.refs,setReference:g,setPositionReference:m,domReference:d}),[l.refs,g,m]),y=h.useMemo(()=>({...l.elements,domReference:u}),[l.elements,u]),R=h.useMemo(()=>({...l,...n,refs:x,elements:y,nodeId:t}),[l,x,y,t,n]);return re(()=>{n.dataRef.current.floatingContext=R;const w=p==null?void 0:p.nodesRef.current.find(v=>v.id===t);w&&(w.context=R)}),h.useMemo(()=>({...l,context:R,refs:x,elements:y}),[l,x,y,R])}const Jt="af-popover__container",en=({placement:e,children:t,isOpen:o,target:n,className:r,classModifier:i,onMouseEnter:s,onMouseLeave:c})=>{const f=Xe(r,i,Jt),[a,u]=K.useState(null),[d,p]=K.useState(null),l=h.useRef(null),{floatingStyles:m,context:g}=Gt({placement:e,elements:{reference:a,floating:d},middleware:[Bt(12),$t({element:l})]});return O.jsxs("div",{className:f,children:[O.jsx("div",{ref:u,className:"af-popover__container-over",role:"presentation",children:n}),o?O.jsxs("div",{ref:p,onMouseEnter:s,onMouseLeave:c,style:m,"data-popper-placement":e,className:"af-popover__container-pop",children:[O.jsx("div",{children:t}),O.jsx(Xt,{ref:l,context:g,fill:"white"})]}):null]})},tn="af-popover__container",He=({children:e,isOpen:t,placement:o="right",className:n=tn,classModifier:r,element:i,onMouseEnter:s,onMouseLeave:c})=>O.jsx(en,{target:e,placement:o,isOpen:t,className:n,classModifier:r,onMouseEnter:s,onMouseLeave:c,children:i}),nn=({children:e,placement:t,className:o,classModifier:n,element:r})=>{const i=K.useRef(null),[s,c]=K.useState(!1),[f,a]=K.useState(!1),u=(m,g)=>{if(f||!i.current||g===s){m.stopPropagation();return}c(x=>g??!x)},d=m=>{m.key==="Enter"&&u(m)},p=()=>{a(!0)},l=()=>{a(!1)};return O.jsx("div",{role:"button",tabIndex:0,ref:i,className:"af-popover__wrapper af-popover__wrapper--click",onKeyDown:d,onClick:u,onBlur:m=>u(m,!1),children:O.jsx(He,{onMouseEnter:p,onMouseLeave:l,isOpen:s,placement:t,className:o,classModifier:n,element:r,children:e})})},on=({children:e,placement:t,className:o,classModifier:n,element:r})=>{const[i,s]=K.useState(!1),c=()=>{s(!0)},f=()=>{s(!1)};return O.jsx("div",{role:"button",tabIndex:0,className:"af-popover__wrapper af-popover__wrapper--over",onMouseEnter:c,onMouseLeave:f,onFocus:c,onBlur:f,children:O.jsx(He,{isOpen:i,placement:t,className:o,classModifier:n,element:r,children:e})})},an=({children:e,placement:t="top",className:o,classModifier:n,mode:r="click",popoverElement:i})=>{const s=r==="click"?nn:on;return O.jsx(s,{className:o,classModifier:n,placement:t,element:i,children:e})};export{an as P,fn as a};
