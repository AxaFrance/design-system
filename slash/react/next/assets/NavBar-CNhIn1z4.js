import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{r as m,e as h}from"./index-DbaA8R3S.js";import{g as v}from"./NavBarItem-C3GY6XQM.js";import{n as N,u as C}from"./Loader-DdGl5Gfc.js";const j="af-nav-container",x=({isVisible:f=!0,onClick:o,id:t="mainmenu",toggleMenuId:r="togglemenu",isMenuFocused:l,className:i,classModifier:p,handleKeys:c,onFocus:d,onBlur:a,children:n})=>{const u=N(i,p,j);return s.jsxs("div",{className:C("af-container",u),children:[s.jsx("button",{"aria-controls":t,"aria-haspopup":"true",type:"button",onClick:o,className:`mask fade ${f?"show":""}`,id:`open-${r}`,"aria-label":"Open Menu"}),s.jsxs("nav",{className:`af-nav af-drawer left ${f?"show":""}`,role:"navigation","aria-label":"Menu principal",children:[s.jsxs("div",{className:"af-nav__aside-header",children:[s.jsx("h4",{className:"af-nav__aside-title",children:"Menu"}),s.jsx("button",{"aria-controls":t,"aria-haspopup":"true",onClick:o,type:"button",className:"af-nav__aside-close",id:`close-${r}`,"aria-label":"Close Menu",children:"Ã—"})]}),s.jsx("ul",{onKeyDown:e=>{e.preventDefault(),c(e.key)},onFocus:e=>{d({e})},onBlur:e=>{a({e})},className:`af-nav__list ${l?"af-nav__list--focused":""}`,role:"menubar",id:t,children:n})]})]})},w=({positionInit:f=0,children:o,...t})=>{const[r,l]=m.useState(!1),[i,p]=m.useState(f),c=m.useMemo(()=>(h.Children.map(o,a=>m.isValidElement(a)&&a)??[]).filter(a=>!!a),[o]),d=m.useCallback(a=>{if(a==="Escape"&&l(!1),a==="ArrowRight"||a==="ArrowLeft"){const n=v(c.length,i,a);p(n)}},[i,c]);return s.jsx(x,{...t,onFocus:()=>l(!0),onBlur:()=>l(!1),handleKeys:d,isMenuFocused:r,children:h.Children.map(c,(a,n)=>{const u=n===i;return h.cloneElement(a,{key:"NavBarItem",classModifier:[a.props.classModifier,u?"active":void 0].filter(e=>!!e).join(" "),tabIndex:u?0:-1,index:n,hasFocus:r&&u,onClick:()=>p(n)})})})};export{w as N};
