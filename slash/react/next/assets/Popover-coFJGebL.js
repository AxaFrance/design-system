import{j as L}from"./jsx-runtime-D_zvdyIk.js";import{r as m,R as Me,e as K}from"./index-DbaA8R3S.js";import{r as He}from"./index-CG6JzWRx.js";import{g as Ve}from"./CardData-DYdLQljx.js";const Q=Math.min,Y=Math.max,oe=Math.round,te=Math.floor,k=e=>({x:e,y:e});function ze(e,t,o){return Y(e,Q(t,o))}function Se(e,t){return typeof e=="function"?e(t):e}function de(e){return e.split("-")[0]}function me(e){return e.split("-")[1]}function Ye(e){return e==="x"?"y":"x"}function Pe(e){return e==="y"?"height":"width"}function pe(e){return["top","bottom"].includes(de(e))?"y":"x"}function Te(e){return Ye(pe(e))}function Xe(e){return{top:0,right:0,bottom:0,left:0,...e}}function qe(e){return typeof e!="number"?Xe(e):{top:e,right:e,bottom:e,left:e}}function Ae(e){const{x:t,y:o,width:n,height:r}=e;return{width:n,height:r,top:o,left:t,right:t+n,bottom:o+r,x:t,y:o}}function ye(e,t,o){let{reference:n,floating:r}=e;const i=pe(t),s=Te(t),c=Pe(s),l=de(t),u=i==="y",a=n.x+n.width/2-r.width/2,d=n.y+n.height/2-r.height/2,h=n[c]/2-r[c]/2;let f;switch(l){case"top":f={x:a,y:n.y-r.height};break;case"bottom":f={x:a,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-r.width,y:d};break;default:f={x:n.x,y:n.y}}switch(me(t)){case"start":f[s]-=h*(o&&u?-1:1);break;case"end":f[s]+=h*(o&&u?-1:1);break}return f}const Ke=async(e,t,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:s}=o,c=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:a,y:d}=ye(u,n,l),h=n,f={},p=0;for(let g=0;g<c.length;g++){const{name:y,fn:x}=c[g],{x:v,y:w,data:R,reset:b}=await x({x:a,y:d,initialPlacement:n,placement:h,strategy:r,middlewareData:f,rects:u,platform:s,elements:{reference:e,floating:t}});a=v??a,d=w??d,f={...f,[y]:{...f[y],...R}},b&&p<=50&&(p++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(u=b.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):b.rects),{x:a,y:d}=ye(u,h,l)),g=-1)}return{x:a,y:d,placement:h,strategy:r,middlewareData:f}},Ue=e=>({name:"arrow",options:e,async fn(t){const{x:o,y:n,placement:r,rects:i,platform:s,elements:c,middlewareData:l}=t,{element:u,padding:a=0}=Se(e,t)||{};if(u==null)return{};const d=qe(a),h={x:o,y:n},f=Te(r),p=Pe(f),g=await s.getDimensions(u),y=f==="y",x=y?"top":"left",v=y?"bottom":"right",w=y?"clientHeight":"clientWidth",R=i.reference[p]+i.reference[f]-h[f]-i.floating[p],b=h[f]-i.reference[f],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let C=E?E[w]:0;(!C||!await(s.isElement==null?void 0:s.isElement(E)))&&(C=c.floating[w]||i.floating[p]);const P=R/2-b/2,V=C/2-g[p]/2-1,W=Q(d[x],V),B=Q(d[v],V),M=W,N=C-g[p]-B,T=C/2-g[p]/2+P,$=ze(M,T,N),A=!l.arrow&&me(r)!=null&&T!==$&&i.reference[p]/2-(T<M?W:B)-g[p]/2<0,I=A?T<M?T-M:T-N:0;return{[f]:h[f]+I,data:{[f]:$,centerOffset:T-$-I,...A&&{alignmentOffset:I}},reset:A}}});async function Qe(e,t){const{placement:o,platform:n,elements:r}=e,i=await(n.isRTL==null?void 0:n.isRTL(r.floating)),s=de(o),c=me(o),l=pe(o)==="y",u=["left","top"].includes(s)?-1:1,a=i&&l?-1:1,d=Se(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return c&&typeof p=="number"&&(f=c==="end"?p*-1:p),l?{x:f*a,y:h*u}:{x:h*u,y:f*a}}const Ze=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,n;const{x:r,y:i,placement:s,middlewareData:c}=t,l=await Qe(t,e);return s===((o=c.offset)==null?void 0:o.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:s}}}}};function ie(){return typeof window<"u"}function G(e){return De(e)?(e.nodeName||"").toLowerCase():"#document"}function D(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function j(e){var t;return(t=(De(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function De(e){return ie()?e instanceof Node||e instanceof D(e).Node:!1}function S(e){return ie()?e instanceof Element||e instanceof D(e).Element:!1}function _(e){return ie()?e instanceof HTMLElement||e instanceof D(e).HTMLElement:!1}function ve(e){return!ie()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof D(e).ShadowRoot}function ee(e){const{overflow:t,overflowX:o,overflowY:n,display:r}=F(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+o)&&!["inline","contents"].includes(r)}function Ge(e){return["table","td","th"].includes(G(e))}function ce(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function he(e){const t=ge(),o=S(e)?F(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>o[n]?o[n]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function Je(e){let t=H(e);for(;_(t)&&!Z(t);){if(he(t))return t;if(ce(t))return null;t=H(t)}return null}function ge(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Z(e){return["html","body","#document"].includes(G(e))}function F(e){return D(e).getComputedStyle(e)}function le(e){return S(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function H(e){if(G(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ve(e)&&e.host||j(e);return ve(t)?t.host:t}function Fe(e){const t=H(e);return Z(t)?e.ownerDocument?e.ownerDocument.body:e.body:_(t)&&ee(t)?t:Fe(t)}function J(e,t,o){var n;t===void 0&&(t=[]),o===void 0&&(o=!0);const r=Fe(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=D(r);if(i){const c=ae(s);return t.concat(s,s.visualViewport||[],ee(r)?r:[],c&&o?J(c):[])}return t.concat(r,J(r,[],o))}function ae(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ne(e){const t=F(e);let o=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=_(e),i=r?e.offsetWidth:o,s=r?e.offsetHeight:n,c=oe(o)!==i||oe(n)!==s;return c&&(o=i,n=s),{width:o,height:n,$:c}}function we(e){return S(e)?e:e.contextElement}function U(e){const t=we(e);if(!_(t))return k(1);const o=t.getBoundingClientRect(),{width:n,height:r,$:i}=Ne(t);let s=(i?oe(o.width):o.width)/n,c=(i?oe(o.height):o.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const et=k(0);function ke(e){const t=D(e);return!ge()||!t.visualViewport?et:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tt(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==D(e)?!1:t}function X(e,t,o,n){t===void 0&&(t=!1),o===void 0&&(o=!1);const r=e.getBoundingClientRect(),i=we(e);let s=k(1);t&&(n?S(n)&&(s=U(n)):s=U(e));const c=tt(i,o,n)?ke(i):k(0);let l=(r.left+c.x)/s.x,u=(r.top+c.y)/s.y,a=r.width/s.x,d=r.height/s.y;if(i){const h=D(i),f=n&&S(n)?D(n):n;let p=h,g=ae(p);for(;g&&n&&f!==p;){const y=U(g),x=g.getBoundingClientRect(),v=F(g),w=x.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,R=x.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,u*=y.y,a*=y.x,d*=y.y,l+=w,u+=R,p=D(g),g=ae(p)}}return Ae({width:a,height:d,x:l,y:u})}function xe(e,t){const o=le(e).scrollLeft;return t?t.left+o:X(j(e)).left+o}function _e(e,t,o){o===void 0&&(o=!1);const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-(o?0:xe(e,n)),i=n.top+t.scrollTop;return{x:r,y:i}}function nt(e){let{elements:t,rect:o,offsetParent:n,strategy:r}=e;const i=r==="fixed",s=j(n),c=t?ce(t.floating):!1;if(n===s||c&&i)return o;let l={scrollLeft:0,scrollTop:0},u=k(1);const a=k(0),d=_(n);if((d||!d&&!i)&&((G(n)!=="body"||ee(s))&&(l=le(n)),_(n))){const f=X(n);u=U(n),a.x=f.x+n.clientLeft,a.y=f.y+n.clientTop}const h=s&&!d&&!i?_e(s,l,!0):k(0);return{width:o.width*u.x,height:o.height*u.y,x:o.x*u.x-l.scrollLeft*u.x+a.x+h.x,y:o.y*u.y-l.scrollTop*u.y+a.y+h.y}}function ot(e){return Array.from(e.getClientRects())}function rt(e){const t=j(e),o=le(e),n=e.ownerDocument.body,r=Y(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Y(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-o.scrollLeft+xe(e);const c=-o.scrollTop;return F(n).direction==="rtl"&&(s+=Y(t.clientWidth,n.clientWidth)-r),{width:r,height:i,x:s,y:c}}function st(e,t){const o=D(e),n=j(e),r=o.visualViewport;let i=n.clientWidth,s=n.clientHeight,c=0,l=0;if(r){i=r.width,s=r.height;const u=ge();(!u||u&&t==="fixed")&&(c=r.offsetLeft,l=r.offsetTop)}return{width:i,height:s,x:c,y:l}}function it(e,t){const o=X(e,!0,t==="fixed"),n=o.top+e.clientTop,r=o.left+e.clientLeft,i=_(e)?U(e):k(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,l=r*i.x,u=n*i.y;return{width:s,height:c,x:l,y:u}}function Re(e,t,o){let n;if(t==="viewport")n=st(e,o);else if(t==="document")n=rt(j(e));else if(S(t))n=it(t,o);else{const r=ke(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Ae(n)}function je(e,t){const o=H(e);return o===t||!S(o)||Z(o)?!1:F(o).position==="fixed"||je(o,t)}function ct(e,t){const o=t.get(e);if(o)return o;let n=J(e,[],!1).filter(c=>S(c)&&G(c)!=="body"),r=null;const i=F(e).position==="fixed";let s=i?H(e):e;for(;S(s)&&!Z(s);){const c=F(s),l=he(s);!l&&c.position==="fixed"&&(r=null),(i?!l&&!r:!l&&c.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||ee(s)&&!l&&je(e,s))?n=n.filter(a=>a!==s):r=c,s=H(s)}return t.set(e,n),n}function lt(e){let{element:t,boundary:o,rootBoundary:n,strategy:r}=e;const s=[...o==="clippingAncestors"?ce(t)?[]:ct(t,this._c):[].concat(o),n],c=s[0],l=s.reduce((u,a)=>{const d=Re(t,a,r);return u.top=Y(d.top,u.top),u.right=Q(d.right,u.right),u.bottom=Q(d.bottom,u.bottom),u.left=Y(d.left,u.left),u},Re(t,c,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ft(e){const{width:t,height:o}=Ne(e);return{width:t,height:o}}function ut(e,t,o){const n=_(t),r=j(t),i=o==="fixed",s=X(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=k(0);if(n||!n&&!i)if((G(t)!=="body"||ee(r))&&(c=le(t)),n){const h=X(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else r&&(l.x=xe(r));const u=r&&!n&&!i?_e(r,c):k(0),a=s.left+c.scrollLeft-l.x-u.x,d=s.top+c.scrollTop-l.y-u.y;return{x:a,y:d,width:s.width,height:s.height}}function fe(e){return F(e).position==="static"}function be(e,t){if(!_(e)||F(e).position==="fixed")return null;if(t)return t(e);let o=e.offsetParent;return j(e)===o&&(o=o.ownerDocument.body),o}function We(e,t){const o=D(e);if(ce(e))return o;if(!_(e)){let r=H(e);for(;r&&!Z(r);){if(S(r)&&!fe(r))return r;r=H(r)}return o}let n=be(e,t);for(;n&&Ge(n)&&fe(n);)n=be(n,t);return n&&Z(n)&&fe(n)&&!he(n)?o:n||Je(e)||o}const at=async function(e){const t=this.getOffsetParent||We,o=this.getDimensions,n=await o(e.floating);return{reference:ut(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function dt(e){return F(e).direction==="rtl"}const mt={convertOffsetParentRelativeRectToViewportRelativeRect:nt,getDocumentElement:j,getClippingRect:lt,getOffsetParent:We,getElementRects:at,getClientRects:ot,getDimensions:ft,getScale:U,isElement:S,isRTL:dt};function pt(e,t){let o=null,n;const r=j(e);function i(){var c;clearTimeout(n),(c=o)==null||c.disconnect(),o=null}function s(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const{left:u,top:a,width:d,height:h}=e.getBoundingClientRect();if(c||t(),!d||!h)return;const f=te(a),p=te(r.clientWidth-(u+d)),g=te(r.clientHeight-(a+h)),y=te(u),v={rootMargin:-f+"px "+-p+"px "+-g+"px "+-y+"px",threshold:Y(0,Q(1,l))||1};let w=!0;function R(b){const E=b[0].intersectionRatio;if(E!==l){if(!w)return s();E?s(!1,E):n=setTimeout(()=>{s(!1,1e-7)},1e3)}w=!1}try{o=new IntersectionObserver(R,{...v,root:r.ownerDocument})}catch{o=new IntersectionObserver(R,v)}o.observe(e)}return s(!0),i}function Xt(e,t,o,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=we(e),a=r||i?[...u?J(u):[],...J(t)]:[];a.forEach(x=>{r&&x.addEventListener("scroll",o,{passive:!0}),i&&x.addEventListener("resize",o)});const d=u&&c?pt(u,o):null;let h=-1,f=null;s&&(f=new ResizeObserver(x=>{let[v]=x;v&&v.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),o()}),u&&!l&&f.observe(u),f.observe(t));let p,g=l?X(e):null;l&&y();function y(){const x=X(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&o(),g=x,p=requestAnimationFrame(y)}return o(),()=>{var x;a.forEach(v=>{r&&v.removeEventListener("scroll",o),i&&v.removeEventListener("resize",o)}),d==null||d(),(x=f)==null||x.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const ht=Ze,Ce=Ue,gt=(e,t,o)=>{const n=new Map,r={platform:mt,...o},i={...r.platform,_c:n};return Ke(e,t,{...r,platform:i})};var re=typeof document<"u"?m.useLayoutEffect:m.useEffect;const wt={...Me},xt=wt.useInsertionEffect,yt=xt||(e=>e());function vt(e){const t=m.useRef(()=>{});return yt(()=>{t.current=e}),m.useCallback(function(){for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t.current==null?void 0:t.current(...n)},[])}var ne=typeof document<"u"?m.useLayoutEffect:m.useEffect;function se(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let o,n,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(n=o;n--!==0;)if(!se(e[n],t[n]))return!1;return!0}if(r=Object.keys(e),o=r.length,o!==Object.keys(t).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=o;n--!==0;){const i=r[n];if(!(i==="_owner"&&e.$$typeof)&&!se(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Be(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ee(e,t){const o=Be(e);return Math.round(t*o)/o}function ue(e){const t=m.useRef(e);return ne(()=>{t.current=e}),t}function Rt(e){e===void 0&&(e={});const{placement:t="bottom",strategy:o="absolute",middleware:n=[],platform:r,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[a,d]=m.useState({x:0,y:0,strategy:o,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=m.useState(n);se(h,n)||f(n);const[p,g]=m.useState(null),[y,x]=m.useState(null),v=m.useCallback(O=>{O!==E.current&&(E.current=O,g(O))},[]),w=m.useCallback(O=>{O!==C.current&&(C.current=O,x(O))},[]),R=i||p,b=s||y,E=m.useRef(null),C=m.useRef(null),P=m.useRef(a),V=l!=null,W=ue(l),B=ue(r),M=ue(u),N=m.useCallback(()=>{if(!E.current||!C.current)return;const O={placement:t,strategy:o,middleware:h};B.current&&(O.platform=B.current),gt(E.current,C.current,O).then(z=>{const q={...z,isPositioned:M.current!==!1};T.current&&!se(P.current,q)&&(P.current=q,He.flushSync(()=>{d(q)}))})},[h,t,o,B,M]);ne(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,d(O=>({...O,isPositioned:!1})))},[u]);const T=m.useRef(!1);ne(()=>(T.current=!0,()=>{T.current=!1}),[]),ne(()=>{if(R&&(E.current=R),b&&(C.current=b),R&&b){if(W.current)return W.current(R,b,N);N()}},[R,b,N,W,V]);const $=m.useMemo(()=>({reference:E,floating:C,setReference:v,setFloating:w}),[v,w]),A=m.useMemo(()=>({reference:R,floating:b}),[R,b]),I=m.useMemo(()=>{const O={position:o,left:0,top:0};if(!A.floating)return O;const z=Ee(A.floating,a.x),q=Ee(A.floating,a.y);return c?{...O,transform:"translate("+z+"px, "+q+"px)",...Be(A.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:z,top:q}},[o,c,A.floating,a.x,a.y]);return m.useMemo(()=>({...a,update:N,refs:$,elements:A,floatingStyles:I}),[a,N,$,A,I])}const bt=e=>{function t(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){const{element:n,padding:r}=typeof e=="function"?e(o):e;return n&&t(n)?n.current!=null?Ce({element:n.current,padding:r}).fn(o):{}:n?Ce({element:n,padding:r}).fn(o):{}}}},Ct=(e,t)=>({...ht(e),options:[e,t]}),Et=(e,t)=>({...bt(e),options:[e,t]}),Ot={...Me};let Oe=!1,Lt=0;const Le=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Lt++;function Mt(){const[e,t]=m.useState(()=>Oe?Le():void 0);return re(()=>{e==null&&t(Le())},[]),m.useEffect(()=>{Oe=!0},[]),e}const St=Ot.useId,Ie=St||Mt,Pt=m.forwardRef(function(t,o){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:i,shift:s}},width:c=14,height:l=7,tipRadius:u=0,strokeWidth:a=0,staticOffset:d,stroke:h,d:f,style:{transform:p,...g}={},...y}=t,x=Ie(),[v,w]=m.useState(!1);if(re(()=>{if(!r)return;F(r).direction==="rtl"&&w(!0)},[r]),!r)return null;const[R,b]=n.split("-"),E=R==="top"||R==="bottom";let C=d;(E&&s!=null&&s.x||!E&&s!=null&&s.y)&&(C=null);const P=a*2,V=P/2,W=c/2*(u/-8+1),B=l/2*u/4,M=!!f,N=C&&b==="end"?"bottom":"top";let T=C&&b==="end"?"right":"left";C&&v&&(T=b==="end"?"left":"right");const $=(i==null?void 0:i.x)!=null?C||i.x:"",A=(i==null?void 0:i.y)!=null?C||i.y:"",I=f||"M0,0"+(" H"+c)+(" L"+(c-W)+","+(l-B))+(" Q"+c/2+","+l+" "+W+","+(l-B))+" Z",O={top:M?"rotate(180deg)":"",left:M?"rotate(90deg)":"rotate(-90deg)",bottom:M?"":"rotate(180deg)",right:M?"rotate(-90deg)":"rotate(90deg)"}[R];return L.jsxs("svg",{...y,"aria-hidden":!0,ref:o,width:M?c:c+P,height:c,viewBox:"0 0 "+c+" "+(l>c?l:c),style:{position:"absolute",pointerEvents:"none",[T]:$,[N]:A,[R]:E||M?"100%":"calc(100% - "+P/2+"px)",transform:[O,p].filter(z=>!!z).join(" "),...g},children:[P>0&&L.jsx("path",{clipPath:"url(#"+x+")",fill:"none",stroke:h,strokeWidth:P+(f?0:1),d:I}),L.jsx("path",{stroke:P&&!f?y.fill:"none",d:I}),L.jsx("clipPath",{id:x,children:L.jsx("rect",{x:-V,y:V*(M?-1:1),width:c+P,height:c})})]})});function Tt(){const e=new Map;return{emit(t,o){var n;(n=e.get(t))==null||n.forEach(r=>r(o))},on(t,o){e.has(t)||e.set(t,new Set),e.get(t).add(o)},off(t,o){var n;(n=e.get(t))==null||n.delete(o)}}}const At=m.createContext(null),Dt=m.createContext(null),Ft=()=>{var e;return((e=m.useContext(At))==null?void 0:e.id)||null},Nt=()=>m.useContext(Dt);function kt(e){const{open:t=!1,onOpenChange:o,elements:n}=e,r=Ie(),i=m.useRef({}),[s]=m.useState(()=>Tt()),c=Ft()!=null,[l,u]=m.useState(n.reference),a=vt((f,p,g)=>{i.current.openEvent=f?p:void 0,s.emit("openchange",{open:f,event:p,reason:g,nested:c}),o==null||o(f,p,g)}),d=m.useMemo(()=>({setPositionReference:u}),[]),h=m.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return m.useMemo(()=>({dataRef:i,open:t,onOpenChange:a,elements:h,events:s,floatingId:r,refs:d}),[t,a,h,s,r,d])}function _t(e){e===void 0&&(e={});const{nodeId:t}=e,o=kt({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||o,r=n.elements,[i,s]=m.useState(null),[c,l]=m.useState(null),a=(r==null?void 0:r.domReference)||i,d=m.useRef(null),h=Nt();re(()=>{a&&(d.current=a)},[a]);const f=Rt({...e,elements:{...r,...c&&{reference:c}}}),p=m.useCallback(w=>{const R=S(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),getClientRects:()=>w.getClientRects(),contextElement:w}:w;l(R),f.refs.setReference(R)},[f.refs]),g=m.useCallback(w=>{(S(w)||w===null)&&(d.current=w,s(w)),(S(f.refs.reference.current)||f.refs.reference.current===null||w!==null&&!S(w))&&f.refs.setReference(w)},[f.refs]),y=m.useMemo(()=>({...f.refs,setReference:g,setPositionReference:p,domReference:d}),[f.refs,g,p]),x=m.useMemo(()=>({...f.elements,domReference:a}),[f.elements,a]),v=m.useMemo(()=>({...f,...n,refs:y,elements:x,nodeId:t}),[f,y,x,t,n]);return re(()=>{n.dataRef.current.floatingContext=v;const w=h==null?void 0:h.nodesRef.current.find(R=>R.id===t);w&&(w.context=v)}),m.useMemo(()=>({...f,context:v,refs:y,elements:x}),[f,y,x,v])}const jt="af-popover__container",Wt=({placement:e,children:t,isOpen:o,target:n,className:r,classModifier:i,onMouseEnter:s,onMouseLeave:c})=>{const l=Ve(r,i,jt),[u,a]=K.useState(null),[d,h]=K.useState(null),f=m.useRef(null),{floatingStyles:p,context:g}=_t({placement:e,elements:{reference:u,floating:d},middleware:[Ct(12),Et({element:f})]});return L.jsxs("div",{className:l,children:[L.jsx("div",{ref:a,className:"af-popover__container-over",role:"presentation",children:n}),o?L.jsxs("div",{ref:h,onMouseEnter:s,onMouseLeave:c,style:p,"data-popper-placement":e,className:"af-popover__container-pop",children:[L.jsx("div",{children:t}),L.jsx(Pt,{ref:f,context:g,fill:"white"})]}):null]})},Bt="af-popover__container",$e=({children:e,isOpen:t,placement:o="right",className:n=Bt,classModifier:r,element:i,onMouseEnter:s,onMouseLeave:c})=>L.jsx(Wt,{target:e,placement:o,isOpen:t,className:n,classModifier:r,onMouseEnter:s,onMouseLeave:c,children:i}),It=({children:e,placement:t,className:o,classModifier:n,element:r})=>{const i=K.useRef(null),[s,c]=K.useState(!1),[l,u]=K.useState(!1),a=(p,g)=>{if(l||!i.current||g===s){p.stopPropagation();return}c(y=>g??!y)},d=p=>{p.key==="Enter"&&a(p)},h=()=>{u(!0)},f=()=>{u(!1)};return L.jsx("div",{role:"button",tabIndex:0,ref:i,className:"af-popover__wrapper af-popover__wrapper--click",onKeyDown:d,onClick:a,onBlur:p=>a(p,!1),children:L.jsx($e,{onMouseEnter:h,onMouseLeave:f,isOpen:s,placement:t,className:o,classModifier:n,element:r,children:e})})},$t=({children:e,placement:t,className:o,classModifier:n,element:r})=>{const[i,s]=K.useState(!1),c=()=>{s(!0)},l=()=>{s(!1)};return L.jsx("div",{role:"button",tabIndex:0,className:"af-popover__wrapper af-popover__wrapper--over",onMouseEnter:c,onMouseLeave:l,onFocus:c,onBlur:l,children:L.jsx($e,{isOpen:i,placement:t,className:o,classModifier:n,element:r,children:e})})},qt=({children:e,placement:t="top",className:o,classModifier:n,mode:r="click",popoverElement:i})=>{const s=r==="click"?It:$t;return L.jsx(s,{className:o,classModifier:n,placement:t,element:i,children:e})};export{qt as P,Xt as a};
