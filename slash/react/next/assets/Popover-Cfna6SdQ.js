import{j as h}from"./jsx-runtime-D_zvdyIk.js";import{r,R as Z,e as $}from"./index-DbaA8R3S.js";import{o as U,c as ee,a as X,i as T,g as te}from"./floating-ui.dom-4nhQhKqc.js";import{r as ne}from"./index-BdSKqQiB.js";import{p as oe}from"./Loader-C3tQB3_-.js";var H=typeof document<"u"?r.useLayoutEffect:r.useEffect;const re={...Z},se=re.useInsertionEffect,ce=se||(e=>e());function le(e){const t=r.useRef(()=>{});return ce(()=>{t.current=e}),r.useCallback(function(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}var W=typeof document<"u"?r.useLayoutEffect:r.useEffect;function K(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let o,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(n=o;n--!==0;)if(!K(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),o=s.length,o!==Object.keys(t).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=o;n--!==0;){const f=s[n];if(!(f==="_owner"&&e.$$typeof)&&!K(e[f],t[f]))return!1}return!0}return e!==e&&t!==t}function z(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Y(e,t){const o=z(e);return Math.round(t*o)/o}function V(e){const t=r.useRef(e);return W(()=>{t.current=e}),t}function fe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:o="absolute",middleware:n=[],platform:s,elements:{reference:f,floating:i}={},transform:l=!0,whileElementsMounted:u,open:v}=e,[a,R]=r.useState({x:0,y:0,strategy:o,placement:t,middlewareData:{},isPositioned:!1}),[x,c]=r.useState(n);K(x,n)||c(n);const[p,w]=r.useState(null),[C,j]=r.useState(null),_=r.useCallback(g=>{g!==P.current&&(P.current=g,w(g))},[]),d=r.useCallback(g=>{g!==y.current&&(y.current=g,j(g))},[]),m=f||p,M=i||C,P=r.useRef(null),y=r.useRef(null),E=r.useRef(a),B=u!=null,L=V(u),N=V(s),S=V(v),O=r.useCallback(()=>{if(!P.current||!y.current)return;const g={placement:t,strategy:o,middleware:x};N.current&&(g.platform=N.current),ee(P.current,y.current,g).then(I=>{const D={...I,isPositioned:S.current!==!1};F.current&&!K(E.current,D)&&(E.current=D,ne.flushSync(()=>{R(D)}))})},[x,t,o,N,S]);W(()=>{v===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,R(g=>({...g,isPositioned:!1})))},[v]);const F=r.useRef(!1);W(()=>(F.current=!0,()=>{F.current=!1}),[]),W(()=>{if(m&&(P.current=m),M&&(y.current=M),m&&M){if(L.current)return L.current(m,M,O);O()}},[m,M,O,L,B]);const A=r.useMemo(()=>({reference:P,floating:y,setReference:_,setFloating:d}),[_,d]),k=r.useMemo(()=>({reference:m,floating:M}),[m,M]),b=r.useMemo(()=>{const g={position:o,left:0,top:0};if(!k.floating)return g;const I=Y(k.floating,a.x),D=Y(k.floating,a.y);return l?{...g,transform:"translate("+I+"px, "+D+"px)",...z(k.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:I,top:D}},[o,l,k.floating,a.x,a.y]);return r.useMemo(()=>({...a,update:O,refs:A,elements:k,floatingStyles:b}),[a,O,A,k,b])}const ie=e=>{function t(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){const{element:n,padding:s}=typeof e=="function"?e(o):e;return n&&t(n)?n.current!=null?X({element:n.current,padding:s}).fn(o):{}:n?X({element:n,padding:s}).fn(o):{}}}},ae=(e,t)=>({...U(e),options:[e,t]}),ue=(e,t)=>({...ie(e),options:[e,t]}),de={...Z};let q=!1,pe=0;const Q=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+pe++;function me(){const[e,t]=r.useState(()=>q?Q():void 0);return H(()=>{e==null&&t(Q())},[]),r.useEffect(()=>{q=!0},[]),e}const ge=de.useId,G=ge||me,he=r.forwardRef(function(t,o){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:f,shift:i}},width:l=14,height:u=7,tipRadius:v=0,strokeWidth:a=0,staticOffset:R,stroke:x,d:c,style:{transform:p,...w}={},...C}=t,j=G(),[_,d]=r.useState(!1);if(H(()=>{if(!s)return;te(s).direction==="rtl"&&d(!0)},[s]),!s)return null;const[m,M]=n.split("-"),P=m==="top"||m==="bottom";let y=R;(P&&i!=null&&i.x||!P&&i!=null&&i.y)&&(y=null);const E=a*2,B=E/2,L=l/2*(v/-8+1),N=u/2*v/4,S=!!c,O=y&&M==="end"?"bottom":"top";let F=y&&M==="end"?"right":"left";y&&_&&(F=M==="end"?"left":"right");const A=(f==null?void 0:f.x)!=null?y||f.x:"",k=(f==null?void 0:f.y)!=null?y||f.y:"",b=c||"M0,0"+(" H"+l)+(" L"+(l-L)+","+(u-N))+(" Q"+l/2+","+u+" "+L+","+(u-N))+" Z",g={top:S?"rotate(180deg)":"",left:S?"rotate(90deg)":"rotate(-90deg)",bottom:S?"":"rotate(180deg)",right:S?"rotate(-90deg)":"rotate(90deg)"}[m];return h.jsxs("svg",{...C,"aria-hidden":!0,ref:o,width:S?l:l+E,height:l,viewBox:"0 0 "+l+" "+(u>l?u:l),style:{position:"absolute",pointerEvents:"none",[F]:A,[O]:k,[m]:P||S?"100%":"calc(100% - "+E/2+"px)",transform:[g,p].filter(I=>!!I).join(" "),...w},children:[E>0&&h.jsx("path",{clipPath:"url(#"+j+")",fill:"none",stroke:x,strokeWidth:E+(c?0:1),d:b}),h.jsx("path",{stroke:E&&!c?C.fill:"none",d:b}),h.jsx("clipPath",{id:j,children:h.jsx("rect",{x:-B,y:B*(S?-1:1),width:l+E,height:l})})]})});function Re(){const e=new Map;return{emit(t,o){var n;(n=e.get(t))==null||n.forEach(s=>s(o))},on(t,o){e.has(t)||e.set(t,new Set),e.get(t).add(o)},off(t,o){var n;(n=e.get(t))==null||n.delete(o)}}}const xe=r.createContext(null),ve=r.createContext(null),we=()=>{var e;return((e=r.useContext(xe))==null?void 0:e.id)||null},ye=()=>r.useContext(ve);function Ee(e){const{open:t=!1,onOpenChange:o,elements:n}=e,s=G(),f=r.useRef({}),[i]=r.useState(()=>Re()),l=we()!=null,[u,v]=r.useState(n.reference),a=le((c,p,w)=>{f.current.openEvent=c?p:void 0,i.emit("openchange",{open:c,event:p,reason:w,nested:l}),o==null||o(c,p,w)}),R=r.useMemo(()=>({setPositionReference:v}),[]),x=r.useMemo(()=>({reference:u||n.reference||null,floating:n.floating||null,domReference:n.reference}),[u,n.reference,n.floating]);return r.useMemo(()=>({dataRef:f,open:t,onOpenChange:a,elements:x,events:i,floatingId:s,refs:R}),[t,a,x,i,s,R])}function Ce(e){e===void 0&&(e={});const{nodeId:t}=e,o=Ee({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||o,s=n.elements,[f,i]=r.useState(null),[l,u]=r.useState(null),a=(s==null?void 0:s.domReference)||f,R=r.useRef(null),x=ye();H(()=>{a&&(R.current=a)},[a]);const c=fe({...e,elements:{...s,...l&&{reference:l}}}),p=r.useCallback(d=>{const m=T(d)?{getBoundingClientRect:()=>d.getBoundingClientRect(),getClientRects:()=>d.getClientRects(),contextElement:d}:d;u(m),c.refs.setReference(m)},[c.refs]),w=r.useCallback(d=>{(T(d)||d===null)&&(R.current=d,i(d)),(T(c.refs.reference.current)||c.refs.reference.current===null||d!==null&&!T(d))&&c.refs.setReference(d)},[c.refs]),C=r.useMemo(()=>({...c.refs,setReference:w,setPositionReference:p,domReference:R}),[c.refs,w,p]),j=r.useMemo(()=>({...c.elements,domReference:a}),[c.elements,a]),_=r.useMemo(()=>({...c,...n,refs:C,elements:j,nodeId:t}),[c,C,j,t,n]);return H(()=>{n.dataRef.current.floatingContext=_;const d=x==null?void 0:x.nodesRef.current.find(m=>m.id===t);d&&(d.context=_)}),r.useMemo(()=>({...c,context:_,refs:C,elements:j}),[c,C,j,_])}const Me="af-popover__container",Pe=({placement:e,children:t,isOpen:o,target:n,className:s,classModifier:f,onMouseEnter:i,onMouseLeave:l})=>{const u=oe(s,f,Me),[v,a]=$.useState(null),[R,x]=$.useState(null),c=r.useRef(null),{floatingStyles:p,context:w}=Ce({placement:e,elements:{reference:v,floating:R},middleware:[ae(12),ue({element:c})]});return h.jsxs("div",{className:u,children:[h.jsx("div",{ref:a,className:"af-popover__container-over",role:"presentation",children:n}),o&&h.jsxs("div",{ref:x,onMouseEnter:i,onMouseLeave:l,style:p,"data-popper-placement":e,className:"af-popover__container-pop",children:[h.jsx("div",{children:t}),h.jsx(he,{ref:c,context:w,fill:"white"})]})]})},Se="af-popover__container",J=({children:e,isOpen:t,placement:o="right",className:n=Se,classModifier:s,element:f,onMouseEnter:i,onMouseLeave:l})=>h.jsx(Pe,{target:e,placement:o,isOpen:t,className:n,classModifier:s,onMouseEnter:i,onMouseLeave:l,children:f}),je=({children:e,placement:t,className:o,classModifier:n,element:s})=>{const f=$.useRef(null),[i,l]=$.useState(!1),[u,v]=$.useState(!1),a=(p,w)=>{if(u||!f.current||w===i){p.stopPropagation();return}l(C=>w??!C)},R=p=>{p.key==="Enter"&&a(p)},x=()=>{v(!0)},c=()=>{v(!1)};return h.jsx("div",{role:"button",tabIndex:0,ref:f,className:"af-popover__wrapper af-popover__wrapper--click",onKeyDown:R,onClick:a,onBlur:p=>a(p,!1),children:h.jsx(J,{onMouseEnter:x,onMouseLeave:c,isOpen:i,placement:t,className:o,classModifier:n,element:s,children:e})})},_e=({children:e,placement:t,className:o,classModifier:n,element:s})=>{const[f,i]=$.useState(!1),l=()=>{i(!0)},u=()=>{i(!1)};return h.jsx("div",{role:"button",tabIndex:0,className:"af-popover__wrapper af-popover__wrapper--over",onMouseEnter:l,onMouseLeave:u,onFocus:l,onBlur:u,children:h.jsx(J,{isOpen:f,placement:t,className:o,classModifier:n,element:s,children:e})})},Fe=({children:e,placement:t="top",className:o,classModifier:n,mode:s="click",popoverElement:f})=>{const i=s==="click"?je:_e;return h.jsx(i,{className:o,classModifier:n,placement:t,element:f,children:e})};export{Fe as P};
