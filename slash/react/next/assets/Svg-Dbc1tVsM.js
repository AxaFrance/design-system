import{j as $}from"./jsx-runtime-D_zvdyIk.js";import{r as _}from"./index-DbaA8R3S.js";import{_ as Q}from"./tslib.es6-Duv2rsQ1.js";import{I as lt,J as dt}from"./Loader-DkiB5NCh.js";var S=new Map,et=function(t){return t.cloneNode(!0)},B=function(){return window.location.protocol==="file:"},rt=function(t,i,e){var r=new XMLHttpRequest;r.onreadystatechange=function(){try{if(!/\.svg/i.test(t)&&r.readyState===2){var u=r.getResponseHeader("Content-Type");if(!u)throw new Error("Content type not found");var a=lt.parse(u).type;if(!(a==="image/svg+xml"||a==="text/plain"))throw new Error("Invalid content type: ".concat(a))}if(r.readyState===4){if(r.status===404||r.responseXML===null)throw new Error(B()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+t);if(r.status===200||B()&&r.status===0)e(null,r);else throw new Error("There was a problem injecting the SVG: "+r.status+" "+r.statusText)}}catch(s){if(r.abort(),s instanceof Error)e(s,r);else throw s}},r.open("GET",t),r.withCredentials=i,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.send()},A={},K=function(t,i){A[t]=A[t]||[],A[t].push(i)},vt=function(t){for(var i=function(a,s){setTimeout(function(){if(Array.isArray(A[t])){var f=S.get(t),v=A[t][a];f instanceof SVGSVGElement&&v(null,et(f)),f instanceof Error&&v(f),a===A[t].length-1&&delete A[t]}},0)},e=0,r=A[t].length;e<r;e++)i(e)},pt=function(t,i,e){if(S.has(t)){var r=S.get(t);if(r===void 0){K(t,e);return}if(r instanceof SVGSVGElement){e(null,et(r));return}}S.set(t,void 0),K(t,e),rt(t,i,function(u,a){var s;u?S.set(t,u):((s=a.responseXML)===null||s===void 0?void 0:s.documentElement)instanceof SVGSVGElement&&S.set(t,a.responseXML.documentElement),vt(t)})},ht=function(t,i,e){rt(t,i,function(r,u){var a;r?e(r):((a=u.responseXML)===null||a===void 0?void 0:a.documentElement)instanceof SVGSVGElement&&e(null,u.responseXML.documentElement)})},At=0,Et=function(){return++At},d=[],Y={},gt="http://www.w3.org/2000/svg",z="http://www.w3.org/1999/xlink",Z=function(t,i,e,r,u,a,s){var f=t.getAttribute("data-src")||t.getAttribute("src");if(!f){s(new Error("Invalid data-src or src attribute"));return}if(d.indexOf(t)!==-1){d.splice(d.indexOf(t),1),t=null;return}d.push(t),t.setAttribute("src","");var v=r?pt:ht;v(f,u,function(l,n){if(!n){d.splice(d.indexOf(t),1),t=null,s(l);return}var p=t.getAttribute("id");p&&n.setAttribute("id",p);var b=t.getAttribute("title");b&&n.setAttribute("title",b);var w=t.getAttribute("width");w&&n.setAttribute("width",w);var y=t.getAttribute("height");y&&n.setAttribute("height",y);var R=Array.from(new Set(Q(Q(Q([],(n.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(t.getAttribute("class")||"").split(" "),!0))).join(" ").trim();n.setAttribute("class",R);var x=t.getAttribute("style");x&&n.setAttribute("style",x),n.setAttribute("data-src",f);var G=[].filter.call(t.attributes,function(c){return/^data-\w[\w-]*$/.test(c.name)});if(Array.prototype.forEach.call(G,function(c){c.name&&c.value&&n.setAttribute(c.name,c.value)}),e){var E={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]},C,h,g,L,T;Object.keys(E).forEach(function(c){C=c,g=E[c],h=n.querySelectorAll(C+"[id]");for(var at=function(X,xt){L=h[X].id,T=L+"-"+Et();var M;Array.prototype.forEach.call(g,function(P){M=n.querySelectorAll("["+P+'*="'+L+'"]');for(var O=0,ct=M.length;O<ct;O++){var J=M[O].getAttribute(P);J&&!J.match(new RegExp('url\\("?#'+L+'"?\\)'))||M[O].setAttribute(P,"url(#"+T+")")}});for(var U=n.querySelectorAll("[*|href]"),W=[],N=0,ut=U.length;N<ut;N++){var D=U[N].getAttributeNS(z,"href");D&&D.toString()==="#"+h[X].id&&W.push(U[N])}for(var F=0,ft=W.length;F<ft;F++)W[F].setAttributeNS(z,"href","#"+T);h[X].id=T},H=0,st=h.length;H<st;H++)at(H)})}n.removeAttribute("xmlns:a");for(var j=n.querySelectorAll("script"),k=[],I,q,m=0,nt=j.length;m<nt;m++)q=j[m].getAttribute("type"),(!q||q==="application/ecmascript"||q==="application/javascript"||q==="text/javascript")&&(I=j[m].innerText||j[m].textContent,I&&k.push(I),n.removeChild(j[m]));if(k.length>0&&(i==="always"||i==="once"&&!Y[f])){for(var V=0,it=k.length;V<it;V++)new Function(k[V])(window);Y[f]=!0}var ot=n.querySelectorAll("style");if(Array.prototype.forEach.call(ot,function(c){c.textContent+=""}),n.setAttribute("xmlns",gt),n.setAttribute("xmlns:xlink",z),a(n),!t.parentNode){d.splice(d.indexOf(t),1),t=null,s(new Error("Parent node is null"));return}t.parentNode.replaceChild(n,t),d.splice(d.indexOf(t),1),t=null,s(null,n)})},mt=function(t,i){var e=i===void 0?{}:i,r=e.afterAll,u=r===void 0?function(){}:r,a=e.afterEach,s=a===void 0?function(){}:a,f=e.beforeEach,v=f===void 0?function(){}:f,l=e.cacheRequests,n=l===void 0?!0:l,p=e.evalScripts,b=p===void 0?"never":p,w=e.httpRequestWithCredentials,y=w===void 0?!1:w,R=e.renumerateIRIElements,x=R===void 0?!0:R;if(t&&"length"in t)for(var G=0,E=0,C=t.length;E<C;E++)Z(t[E],b,x,n,y,v,function(h,g){s(h,g),t&&"length"in t&&t.length===++G&&u(G)});else t?Z(t,b,x,n,y,v,function(h,g){s(h,g),u(1),t=null}):u(0)};const St=["fill","stroke"],bt=(o,t)=>{const i={};o==null||o.getAttributeNames().forEach(e=>{(e.startsWith("aria-")||St.includes(e))&&(i[e]=o.getAttribute(e))}),Object.keys(i).forEach(e=>{t.setAttribute(e,i[e])})},wt=(o,{beforeEach:t=()=>{},...i}={})=>{mt(o,{...i,beforeEach:e=>{dt.sanitize(e,{USE_PROFILES:{svg:!0,svgFilters:!0},IN_PLACE:!0}),bt(o,e),t(e)}})},tt=(o,t)=>{o.getAttributeNames().forEach(e=>{t.setAttribute(e,o.getAttribute(e))})},Ct=({src:o,alt:t,width:i=24,height:e=24,...r})=>{const u=_.useRef(null),[a,s]=_.useState(!1);return _.useLayoutEffect(()=>{a&&s(!1)},[o]),_.useLayoutEffect(()=>{if(a)return;const f=u.current;if(f){const v=document.createElement("div"),l=document.createElement("svg");v.appendChild(l),tt(f,l),l.setAttribute("width",i.toString()),l.setAttribute("height",e.toString()),wt(l,{afterEach:(n,p)=>{n&&s(!0),p&&(f.innerHTML=p.innerHTML,tt(p,f))}})}},[o,i,e,a]),a?t?$.jsx("span",{...r,children:t}):null:$.jsx("svg",{ref:u,"data-src":o,...r})};export{Ct as S};
