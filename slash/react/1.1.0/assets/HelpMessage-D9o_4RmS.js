import{j as l}from"./jsx-runtime-BjG_zV1W.js";import{g as y,c as _}from"./getComponentClassName-CfMiunrP.js";import{r as f}from"./index-C33_amOP.js";var i=(e=>(e.error="error",e.success="success",e.warning="warning",e))(i||{});const C="af-form__message",F=({message:e=null,messageType:s=i.error})=>{const a=y(C,s,C);return e&&l.jsxs("small",{className:a,children:[l.jsx("span",{className:"glyphicon glyphicon-exclamation-sign"}),l.jsx("span",{className:`af-form__${s}-text`,children:e})]})};F.__docgenInfo={description:"",methods:[],displayName:"FieldError",props:{message:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"",defaultValue:{value:"null",computed:!1}},messageType:{required:!1,tsType:{name:"MessageTypes"},description:"",defaultValue:{value:"MessageTypes.error",computed:!0}}}};const E=(e,s)=>s?`${e} disabled`:e,I=(e,s)=>s?`${e} hasinfobulle`:e,N=e=>{let s="error";switch(e){case i.success:s="success";break;case i.warning:s="warning";break}return s},B=(e,s,a)=>{if(!s)return"";const t=N(e);return t?a?`${a} ${t}`:t:""},x={getFieldInputClassModifier:E,getInputClassModifier:I,getModifier:N,getMessageClassModifier:B},S="md-10",j={hasLostFocusOnce:!1,hasFocus:!1,hasChange:!1,memory:{message:"",messageType:i.error}},L=({message:e,messageType:s=i.error})=>a=>({...a,memory:{message:e,messageType:s}}),O=()=>e=>({...e,hasChange:!0}),H=(e,s,a=O)=>!s&&e(a()),A=()=>e=>({...e,hasLostFocusOnce:!0,hasFocus:!1}),R=({message:e,messageType:s=i.error})=>a=>({...a,hasFocus:!0,memory:{message:e,messageType:s}}),k=({forceDisplayMessage:e,hasLostFocusOnce:s,hasFocus:a,memory:t,hasChange:n,message:r,messageType:o})=>s||e||n&&!a?a?t:{message:r,messageType:o}:{message:"",messageType:""},$=({wrapper:e,props:s})=>({onChange:a=>{var t;(t=e==null?void 0:e.onChange)==null||t.call(e,a),s.onChange&&s.onChange(a)},onBlur:a=>{var t;(t=e==null?void 0:e.onBlur)==null||t.call(e,a),s.onBlur&&s.onBlur(a)},onFocus:a=>{var t;(t=e==null?void 0:e.onFocus)==null||t.call(e,a),s.onFocus&&s.onFocus(a)}}),D=({message:e,messageType:s,classModifier:a,wrapper:t,child:n,name:r,getMessageClassModifierFn:o=x.getMessageClassModifier,eventWrapperFn:u=$})=>{const c=o(s,e,a);switch(n.type.displayName??r){case"HelpMessage":return{isVisible:!e};case"FieldError":return{message:e};case"FieldInput":return{classModifier:c};case"EnhancedInputRadio":case"EnhancedInputCheckbox":return{...u({wrapper:t,props:n.props}),classModifier:c};case"EnhancedInput":return{...u({wrapper:t,props:n.props})};default:return{}}},v=({children:e,wrapper:s,message:a,messageType:t})=>f.Children.map(e,n=>{if(!f.isValidElement(n)||typeof n.type=="string")return n;const r={...n.props};if(n.props.children){const o=v({children:n.props.children,wrapper:s,message:a,messageType:t});o!==null&&(r.children=o)}return f.cloneElement(n,{...r,...D({...n.type,name:n.type.name,message:a,messageType:t,classModifier:r.classModifier,wrapper:s,child:n})})}),q=({children:e,message:s="",messageType:a=i.error,className:t=S,classModifier:n="",forceDisplayMessage:r=!1,setStateMemoryFn:o=L,onChangeByStateFn:u=H,setStateOnBlurFn:c=A,setStateOnFocusFn:p=R,initialState:h=j})=>{const[m,d]=f.useState(h),g=f.useRef(r);f.useEffect(()=>{g.current!==r&&d(o({message:s,messageType:a}))},[r,s,a,g,d,o]);const b=v({children:e,wrapper:{onFocus:()=>d(p({message:s,messageType:a})),onChange:()=>u(d,m==null?void 0:m.hasChange),onBlur:()=>d(c())},...k({...m,forceDisplayMessage:r,message:s,messageType:a})}),V=y(t,n,S);return l.jsx("div",{className:V,children:b})};v.__docgenInfo={description:"",methods:[],displayName:"renderedChildren",props:{wrapper:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  onChange?: (event: BaseSyntheticEvent) => void;
  onBlur?: (event: BaseSyntheticEvent) => void;
  onFocus?: (event: BaseSyntheticEvent) => void;
}`,signature:{properties:[{key:"onChange",value:{name:"signature",type:"function",raw:"(event: BaseSyntheticEvent) => void",signature:{arguments:[{type:{name:"BaseSyntheticEvent"},name:"event"}],return:{name:"void"}},required:!1}},{key:"onBlur",value:{name:"signature",type:"function",raw:"(event: BaseSyntheticEvent) => void",signature:{arguments:[{type:{name:"BaseSyntheticEvent"},name:"event"}],return:{name:"void"}},required:!1}},{key:"onFocus",value:{name:"signature",type:"function",raw:"(event: BaseSyntheticEvent) => void",signature:{arguments:[{type:{name:"BaseSyntheticEvent"},name:"event"}],return:{name:"void"}},required:!1}}]}},description:""}}};q.__docgenInfo={description:"",methods:[],displayName:"FieldForm",props:{message:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},messageType:{required:!1,tsType:{name:"MessageTypes"},description:"",defaultValue:{value:"MessageTypes.error",computed:!0}},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"md-10"',computed:!1}},classModifier:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},forceDisplayMessage:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!0,tsType:{name:"ReactNode"},description:""},setStateMemoryFn:{required:!1,tsType:{name:"setStateMemory"},description:"",defaultValue:{value:`({ message, messageType = MessageTypes.error }: TMessage): SetState =>
(prevState) => ({
  ...prevState,
  memory: {
    message,
    messageType,
  },
})`,computed:!1}},onChangeByStateFn:{required:!1,tsType:{name:"onChangeByState"},description:"",defaultValue:{value:`(
  setState: Dispatch<
    SetStateAction<{
      hasLostFocusOnce: boolean;
      hasFocus: boolean;
      hasChange: boolean;
      memory: TMessage;
    }>
  >,
  stateHasChange: boolean,
  setStateHasChangeFn = setStateHasChange,
) => !stateHasChange && setState(setStateHasChangeFn())`,computed:!1}},setStateOnBlurFn:{required:!1,tsType:{name:"setStateOnBlur"},description:"",defaultValue:{value:`(): SetState => (prevState) => ({
  ...prevState,
  hasLostFocusOnce: true,
  hasFocus: false,
})`,computed:!1}},setStateOnFocusFn:{required:!1,tsType:{name:"setStateOnFocus"},description:"",defaultValue:{value:`({ message, messageType = MessageTypes.error }: TMessage): SetState =>
(prevState) => ({
  ...prevState,
  hasFocus: true,
  memory: { message, messageType },
})`,computed:!1}},initialState:{required:!1,tsType:{name:"INITIAL_STATE"},description:"",defaultValue:{value:`{
  hasLostFocusOnce: false,
  hasFocus: false,
  hasChange: false,
  memory: { message: "", messageType: MessageTypes.error } as TMessage,
}`,computed:!1}}}};const P=({id:e="",message:s="",messageType:a=i.error,label:t,children:n,forceDisplayMessage:r,classModifier:o="",className:u,classNameContainerLabel:c="col-md-2",classNameContainerInput:p="col-md-10",isVisible:h=!0,roleContainer:m,ariaLabelContainer:d,isLabelContainerLinkedToInput:g=!0})=>{if(!h)return null;const T=y(u,o,"row af-form__group");return l.jsxs("div",{className:T,role:m,"aria-label":d,children:[l.jsx("div",{className:c,children:l.jsx("label",{className:_({"af-form__group-label--required":o.includes("required")},"af-form__group-label"),htmlFor:g?e:void 0,children:t})}),l.jsxs(q,{className:p,message:s,messageType:a,forceDisplayMessage:r,children:[n,l.jsx(F,{message:s,messageType:a})]})]})};P.__docgenInfo={description:"",methods:[],displayName:"Field",props:{label:{required:!0,tsType:{name:"ReactNode"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},id:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classModifier:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameContainerLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"col-md-2"',computed:!1}},classNameContainerInput:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"col-md-10"',computed:!1}},isVisible:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},roleContainer:{required:!1,tsType:{name:"string"},description:""},ariaLabelContainer:{required:!1,tsType:{name:"string"},description:""},isLabelContainerLinkedToInput:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},message:{defaultValue:{value:'""',computed:!1},required:!1},messageType:{defaultValue:{value:"MessageTypes.error",computed:!0},required:!1}}};const M=({children:e,className:s="",classModifier:a="",isVisible:t=!0})=>{if(!t)return null;const n=y(s,a,"");return l.jsx("div",{className:n,children:e})};M.displayName="FieldInput";M.__docgenInfo={description:"",methods:[],displayName:"FieldInput",props:{isVisible:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classModifier:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},children:{required:!1,tsType:{name:"ReactNode"},description:""}}};const U=({message:e,isVisible:s=!0})=>s&&l.jsx("small",{className:"af-form__help",children:e});U.__docgenInfo={description:"",methods:[],displayName:"HelpMessage",props:{message:{required:!1,tsType:{name:"ReactNode"},description:""},isVisible:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};export{P as F,U as H,i as M,M as a};
