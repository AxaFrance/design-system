import{j as e}from"./index-C1mcBe1y.js";import{r as m}from"./index-DbaA8R3S.js";import{d as I,O as q,Q as D,c as Z,I as B,k as _,n as b,S as v,J as G,y as W,G as X,R as V}from"./ToggleCommon-uhRcMguk.js";import{v as J}from"./visibility-fill-CUq5Rz3Z.js";var N;(function(s){s[s.SM=667]="SM",s[s.MD=1023]="MD",s[s.LG=1279]="LG",s[s.XL=1599]="XL"})(N||(N={}));const Y=s=>s.split(" ").filter(Boolean).at(-1),O=s=>s?s.split(" "):[],C=(s,n,t)=>{if(!s)return"";const a=Y(s),i=O(t).filter(r=>/\S/.test(r)).map(r=>`${a}--${r}`);return I(s,n,i)},A=s=>{const n=m.useCallback(l=>(window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}),[]),t=m.useCallback(()=>window.innerWidth<=s,[s]),a=m.useCallback(()=>!1,[]);return m.useSyncExternalStore(n,t,a)},K=["fill","stroke"],P=(s,n)=>{const t={};s==null||s.getAttributeNames().forEach(a=>{(a.startsWith("aria-")||K.includes(a))&&(t[a]=s.getAttribute(a))}),Object.keys(t).forEach(a=>{n.setAttribute(a,t[a])})},ee=(s,{beforeEach:n=()=>{},...t}={})=>{s&&q(s,{...t,beforeEach:a=>{D.sanitize(a,{USE_PROFILES:{svg:!0,svgFilters:!0},IN_PLACE:!0}),P(s,a),n(a)}})},$=(s,n)=>{s.getAttributeNames().forEach(a=>{n.setAttribute(a,s.getAttribute(a))})},R=({src:s,alt:n,width:t=24,height:a=24,...l})=>{const i=m.useRef(null),[r,f]=m.useState(!1);return m.useLayoutEffect(()=>{r&&f(!1)},[s]),m.useLayoutEffect(()=>{if(r)return;const o=i.current;if(o){const h=document.createElement("div"),c=document.createElement("svg");h.appendChild(c),$(o,c),c.setAttribute("width",t.toString()),c.setAttribute("height",a.toString()),ee(c,{afterEach:(d,u)=>{d&&f(!0),u&&(o.innerHTML=u.innerHTML,$(u,o))}})}},[s,t,a,r]),r?n?e.jsx("span",{...l,children:n}):null:e.jsx("svg",{ref:i,"data-src":s,width:t,height:a,...l})},se=({id:s,label:n,description:t,subtitle:a,icon:l,errorId:i,hasError:r,size:f,...o})=>{let h=m.useId();return h=s??h,e.jsxs("label",{htmlFor:h,className:"af-card-checkbox-label","aria-invalid":r,children:[e.jsx(Z,{id:h,errorId:i,hasError:r,...o}),e.jsxs("div",{className:"af-card-checkbox-content",children:[l?e.jsx(B,{src:l,size:f}):null,e.jsxs("div",{className:"af-card-checkbox-content-description",children:[e.jsx("span",{children:n}),t?e.jsx("span",{children:t}):null,a?e.jsx("span",{children:a}):null]})]})]})},ae=({className:s,labelGroup:n,descriptionGroup:t,isRequired:a,options:l,onChange:i,type:r="vertical",error:f,...o})=>{const h=C("af-card-checkbox__container",s),c=C("af-card-checkbox-group",s,r),d=m.useId(),x=A(N.SM)?"M":"L";return e.jsxs("fieldset",{className:h,children:[n?e.jsxs("legend",{className:"af-card-checkbox__legend",children:[e.jsxs("p",{children:[n,a?e.jsx("span",{"aria-hidden":!0,children:" *"}):null]}),t?e.jsx("p",{className:"af-card-checkbox__description",children:t}):null]}):null,e.jsxs("div",{className:"af-card-checkbox__choices",children:[e.jsx("ul",{className:c,children:l.map(({hasError:p,...g})=>e.jsx("li",{children:e.jsx(se,{...o,size:x,errorId:d,onChange:i,hasError:!!f||p,...g})},crypto.randomUUID()))}),e.jsx(_,{id:d,message:f,messageType:"error"})]})]})};ae.displayName="CardCheckbox";const te="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%20-960%20960%20960'%3e%3cpath%20d='M453-280h60v-166h167v-60H513v-174h-60v174H280v60h173v166Zm27.27%20200q-82.74%200-155.5-31.5Q252-143%20197.5-197.5t-86-127.34Q80-397.68%2080-480.5t31.5-155.66Q143-709%20197.5-763t127.34-85.5Q397.68-880%20480.5-880t155.66%2031.5Q709-817%20763-763t85.5%20127Q880-563%20880-480.27q0%2082.74-31.5%20155.5Q817-252%20763-197.68q-54%2054.31-127%2086Q563-80%20480.27-80Z'/%3e%3c/svg%3e",ne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%20-960%20960%20960'%3e%3cpath%20d='m249-207-42-42%20231-231-231-231%2042-42%20231%20231%20231-231%2042%2042-231%20231%20231%20231-42%2042-231-231-231%20231Z'/%3e%3c/svg%3e";function re(s){let n=-1,t=s;const a=[" Ko"," Mo"," Go"];do t/=1e3,n+=1;while(t>1e3);return Math.max(t,.1).toFixed(1)+a[n]}const le=({id:s,label:n,buttonLabel:t,instructions:a,dropzoneDescription:l,filesListLabel:i,required:r,files:f,errors:o,globalError:h,isMobile:c,withPadding:d=!1,onView:u,onDelete:x,...p})=>{const g=m.useId(),k=(j,w)=>j?e.jsx(v,{src:G,className:"af-form__file-title-container-icon-error"}):w?e.jsx(W,{size:24}):e.jsx(v,{src:X,className:"af-form__file-title-container-icon-success"});return e.jsxs("div",{children:[e.jsxs("label",{className:"af-form__group--label",htmlFor:s,children:[n," ",r?"*":""]}),e.jsxs("div",{className:"af-form__file-input-container",children:[e.jsxs("div",{className:I("af-form__file-input",h&&"af-form__file-input--error",(c||!d&&!l)&&"is-mobile"),children:[e.jsx("input",{type:"file",name:"file-input",id:s,"aria-errormessage":g,"aria-invalid":!!h,...p}),l?e.jsxs("div",{className:"af-form__file-input-dropdown-text",children:[e.jsx("p",{children:l}),e.jsx("p",{children:"ou"})]}):null,e.jsx(b,{variant:"tertiary",onClick:()=>{var j;return(j=document.getElementById(s))==null?void 0:j.click()},iconLeft:e.jsx(v,{src:te,className:"af-form__file-input-icon"}),children:t})]}),h?e.jsx(_,{id:g,message:h}):null,a?e.jsx("small",{className:"af-form__file-input-help",children:a}):null]}),f&&f.length!==0?e.jsxs("div",{className:"custom-table-file af-file-table",children:[i?e.jsx("div",{className:"af-form__group--label af-form__files-list-label",children:i}):null,e.jsx("ul",{className:"af-form__file-list",children:f.map(({id:j,name:w,size:T,isLoading:Q})=>{var E;const H=re(T),y=o?o.some(M=>M.id===j):!1,U=(E=o==null?void 0:o.find(M=>M.id===j))==null?void 0:E.message;return e.jsxs("li",{className:"af-form__file-line",children:[e.jsxs("div",{className:`af-form__file-line-container ${y?"af-form__file-line-container--error":""}`,children:[e.jsxs("div",{className:"af-form__file-title",children:[k(y,Q),e.jsxs("div",{children:[e.jsx("span",{className:"af-form__file-name",children:w}),e.jsx("span",{className:"af-form__file-size",children:H})]})]}),e.jsxs("div",{className:"af-form__file-actions",children:[u?e.jsx(b,{"aria-label":"Visualiser",onClick:()=>u(j),variant:"ghost",iconLeft:e.jsx(v,{src:J})}):null,x?e.jsx(b,{"aria-label":"Supprimer",onClick:()=>x(j),variant:"ghost",iconLeft:e.jsx(v,{src:ne})}):null]})]}),y?e.jsx(_,{message:U}):null]},j)})})]}):null]})};le.displayName="FileUpload";const ie=({label:s,description:n,subtitle:t,icon:a,size:l,...i})=>e.jsxs("label",{className:"af-card-radio-label",children:[e.jsx(V,{...i}),e.jsxs("div",{className:"af-card-radio-content",children:[a?e.jsx(B,{src:a,size:l,role:"presentation"}):null,e.jsxs("div",{className:"af-card-radio-content-description",children:[e.jsx("span",{children:s}),n?e.jsx("span",{children:n}):null,t?e.jsx("span",{children:t}):null]})]})]}),ce=({className:s,labelGroup:n,descriptionGroup:t,isRequired:a,options:l,type:i="vertical",error:r,name:f,value:o,onChange:h,...c})=>{const d=C("af-card-radio__container",s),u=C("af-card-radio-group",s,i),x=m.useId(),p=`${x}:error`,k=A(N.SM)?"M":"L";return e.jsxs("fieldset",{className:d,"aria-invalid":!!r,"aria-errormessage":r?p:void 0,children:[n?e.jsxs("legend",{className:"af-card-radio__legend",children:[e.jsxs("p",{children:[n,a?e.jsx("span",{"aria-hidden":!0,children:" *"}):null]}),t?e.jsx("p",{className:"af-card-radio__description",children:t}):null]}):null,e.jsx("div",{className:u,children:l.map(j=>e.jsx(ie,{name:f,onChange:h,size:k,isInvalid:!!r,checked:o!==void 0?o===j.value:void 0,...c,...j},`${f??x}-${j.label}`))}),e.jsx(_,{id:p,message:r,messageType:"error"})]})};ce.displayName="RadioCard";const L=m.forwardRef(({className:s,title:n="",onOutsideTap:t,children:a,...l},i)=>e.jsx("dialog",{"aria-label":n,className:["af-modal",s].filter(Boolean).join(" "),onClick:t,ref:i,...l,children:e.jsx("div",{className:"af-modal__dialog",onClick:r=>r.stopPropagation(),children:e.jsx("div",{className:"af-modal__content",children:a})})}));L.displayName="ModalCore";L.__docgenInfo={description:"",methods:[],displayName:"ModalCore",props:{title:{defaultValue:{value:'""',computed:!1},required:!1}}};const oe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%20-960%20960%20960'%3e%3cpath%20d='m249-207-42-42%20231-231-231-231%2042-42%20231%20231%20231-231%2042%2042-231%20231%20231%20231-42%2042-231-231-231%20231Z'/%3e%3c/svg%3e",de=({className:s,title:n,subtitle:t,iconTitle:a,levelTitle:l=2,onCancel:i,closeButtonAriaLabel:r="Fermer la boite de dialogue",...f})=>{const o=`h${l}`;return e.jsxs("header",{className:["af-modal__header",s].filter(Boolean).join(" "),...f,children:[e.jsx(b,{variant:"ghost",iconLeft:e.jsx(R,{src:oe,width:32,height:32,role:"graphics-document"}),"aria-label":r,onClick:i}),e.jsxs("div",{className:"af-modal__header-title",children:[a?e.jsx(R,{src:a,width:32,height:32,role:"graphics-document"}):null,e.jsx(o,{className:"af-modal__header-title-heading",children:n}),t?e.jsx("span",{className:"af-modal__header-title-subtitle",children:t}):null]})]})},fe=({children:s,className:n,...t})=>e.jsx("section",{className:["af-modal__body",n].filter(Boolean).join(" "),...t,children:s}),he=({className:s,...n})=>e.jsx("footer",{className:["af-modal__footer",s].filter(Boolean).join(" "),...n}),F=m.forwardRef(({children:s,title:n,submitTitle:t,cancelTitle:a,className:l,onCancel:i,onSubmit:r,closeButtonAriaLabel:f,cancelDisabled:o,submitDisabled:h,subtitle:c,iconTitle:d,levelTitle:u,...x},p)=>e.jsxs(L,{className:l,onOutsideTap:i,title:n,ref:p,...x,children:[e.jsx(de,{title:n,subtitle:c,iconTitle:d,levelTitle:u,onCancel:i,closeButtonAriaLabel:f}),e.jsx(fe,{children:s}),e.jsxs(he,{children:[a?e.jsx(b,{variant:"secondary",onClick:i,disabled:o,children:a}):null,r&&t?e.jsx(b,{variant:"primary",onClick:r,disabled:h,children:t}):null]})]}));F.displayName="Modal";F.__docgenInfo={description:"",methods:[],displayName:"Modal"};var S;(function(s){s.center="center"})(S||(S={}));const pe=({items:s,preSelectedTabIndex:n,direction:t})=>{const[a,l]=m.useState(n||0),i=m.useRef([]),r=m.useRef(null),f=s.length,o=c=>c===a,h=m.useCallback(c=>{const u=f-1,x=p=>{l(p),i.current[p].focus(),c.stopPropagation(),c.preventDefault()};switch(c.key){case"ArrowRight":x(a<u?a+1:0);break;case"ArrowLeft":x(a>0?a-1:u);break;case"Home":x(0);break;case"End":x(u);break}},[a,f]);return e.jsxs("div",{className:I("af-tabs-client",t===S.center?"af-tabs-client--center":""),children:[e.jsx("div",{role:"tablist",ref:r,children:s.map((c,d)=>e.jsxs("button",{role:"tab",id:`tab-${d}`,"aria-selected":o(d),"aria-controls":`tabpanel-${d}`,onKeyDown:h,onClick:()=>l(d),ref:u=>{i.current[d]=u},type:"button",tabIndex:o(d)?0:-1,children:[c.icon,e.jsx("span",{children:c.title})]},`tab-${c.title}`))}),s.map((c,d)=>e.jsx("div",{role:"tabpanel","aria-hidden":!o(d),id:`tabpanel-${d}`,"aria-labelledby":`tab-${d}`,children:c.content},`tabpanel-${c.title}`))]})};var z;(function(s){s.XL="xl",s.L="l"})(z||(z={}));export{N as B,ae as C,S as D,le as F,F as M,ce as R,R as S,z as T,pe as a,oe as c,C as g,A as u};
