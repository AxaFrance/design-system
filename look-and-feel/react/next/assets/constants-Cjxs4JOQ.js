import{j as e}from"./index-DK-fRI8B.js";import{G as I,J as R,c as E,B as v,S as j,k as C,e as Z,v as z,z as G}from"./DropdownCommon-nJ7W6_DL.js";import{r as h}from"./index-DbaA8R3S.js";var S;(function(a){a[a.SM=667]="SM",a[a.MD=1023]="MD",a[a.LG=1279]="LG",a[a.XL=1599]="XL"})(S||(S={}));const U=["fill","stroke"],D=(a,i)=>{const t={};a==null||a.getAttributeNames().forEach(s=>{(s.startsWith("aria-")||U.includes(s))&&(t[s]=a.getAttribute(s))}),Object.keys(t).forEach(s=>{i.setAttribute(s,t[s])})},X=(a,{beforeEach:i=()=>{},...t}={})=>{a&&I(a,{...t,beforeEach:s=>{R.sanitize(s,{USE_PROFILES:{svg:!0,svgFilters:!0},IN_PLACE:!0}),D(a,s),i(s)}})},L=(a,i)=>{a.getAttributeNames().forEach(s=>{i.setAttribute(s,a.getAttribute(s))})},q=({src:a,alt:i,width:t=24,height:s=24,...c})=>{const o=h.useRef(null),[d,m]=h.useState(!1);return h.useLayoutEffect(()=>{d&&m(!1)},[a]),h.useLayoutEffect(()=>{if(d)return;const l=o.current;if(l){const u=document.createElement("div"),r=document.createElement("svg");u.appendChild(r),L(l,r),r.setAttribute("width",t.toString()),r.setAttribute("height",s.toString()),X(r,{afterEach:(n,f)=>{n&&m(!0),f&&(l.innerHTML=f.innerHTML,L(f,l))}})}},[a,t,s,d]),d?i?e.jsx("span",{...c,children:i}):null:e.jsx("svg",{ref:o,"data-src":a,width:t,height:s,...c})},V="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%20-960%20960%20960'%3e%3cpath%20d='M453-280h60v-166h167v-60H513v-174h-60v174H280v60h173v166Zm27.27%20200q-82.74%200-155.5-31.5Q252-143%20197.5-197.5t-86-127.34Q80-397.68%2080-480.5t31.5-155.66Q143-709%20197.5-763t127.34-85.5Q397.68-880%20480.5-880t155.66%2031.5Q709-817%20763-763t85.5%20127Q880-563%20880-480.27q0%2082.74-31.5%20155.5Q817-252%20763-197.68q-54%2054.31-127%2086Q563-80%20480.27-80Z'/%3e%3c/svg%3e",J="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%20-960%20960%20960'%3e%3cpath%20d='m249-207-42-42%20231-231-231-231%2042-42%20231%20231%20231-231%2042%2042-231%20231%20231%20231-42%2042-231-231-231%20231Z'/%3e%3c/svg%3e",W="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%20-960%20960%20960'%3e%3cpath%20d='M480.12-330q70.88%200%20120.38-49.62t49.5-120.5q0-70.88-49.62-120.38T479.88-670Q409-670%20359.5-620.38T310-499.88q0%2070.88%2049.62%20120.38t120.5%2049.5Zm-.36-58q-46.76%200-79.26-32.74-32.5-32.73-32.5-79.5%200-46.76%2032.74-79.26%2032.73-32.5%2079.5-32.5%2046.76%200%2079.26%2032.74%2032.5%2032.73%2032.5%2079.5%200%2046.76-32.74%2079.26-32.73%2032.5-79.5%2032.5Zm.24%20188q-146%200-264-83T40-500q58-134%20176-217t264-83q146%200%20264%2083t176%20217q-58%20134-176%20217t-264%2083Z'/%3e%3c/svg%3e";function Y(a){let i=-1,t=a;const s=[" Ko"," Mo"," Go"];do t/=1e3,i+=1;while(t>1e3);return Math.max(t,.1).toFixed(1)+s[i]}const P=({id:a,label:i,buttonLabel:t,instructions:s,dropzoneDescription:c,filesListLabel:o,required:d,files:m,errors:l,globalError:u,isMobile:r,withPadding:n=!1,onView:f,onDelete:g,...p})=>{const M=h.useId(),F=(x,_)=>x?e.jsx(j,{src:Z,className:"af-form__file-title-container-icon-error"}):_?e.jsx(z,{size:24}):e.jsx(j,{src:G,className:"af-form__file-title-container-icon-success"});return e.jsxs("div",{children:[e.jsxs("label",{className:"af-form__group--label",htmlFor:a,children:[i," ",d?"*":""]}),e.jsxs("div",{className:"af-form__file-input-container",children:[e.jsxs("div",{className:E("af-form__file-input",u&&"af-form__file-input--error",(r||!n&&!c)&&"is-mobile"),children:[e.jsx("input",{type:"file",name:"file-input",id:a,"aria-errormessage":M,"aria-invalid":!!u,...p}),c&&e.jsxs("div",{className:"af-form__file-input-dropdown-text",children:[e.jsx("p",{children:c}),e.jsx("p",{children:"ou"})]}),e.jsx(v,{variant:"tertiary",onClick:()=>{var x;return(x=document.getElementById(a))==null?void 0:x.click()},iconLeft:e.jsx(j,{src:V,className:"af-form__file-input-icon"}),children:t})]}),u&&e.jsx(C,{id:M,message:u}),s&&e.jsx("small",{className:"af-form__file-input-help",children:s})]}),m&&m.length!==0&&e.jsxs("div",{className:"custom-table-file af-file-table",children:[o&&e.jsx("div",{className:"af-form__group--label af-form__files-list-label",children:o}),e.jsx("ul",{className:"af-form__file-list",children:m.map(({id:x,name:_,size:A,isLoading:Q})=>{var k;const $=Y(A),b=l?l.some(w=>w.id===x):!1,H=(k=l==null?void 0:l.find(w=>w.id===x))==null?void 0:k.message;return e.jsxs("li",{className:"af-form__file-line",children:[e.jsxs("div",{className:`af-form__file-line-container ${b?"af-form__file-line-container--error":""}`,children:[e.jsxs("div",{className:"af-form__file-title",children:[F(b,Q),e.jsxs("div",{children:[e.jsx("span",{className:"af-form__file-name",children:_}),e.jsx("span",{className:"af-form__file-size",children:$})]})]}),e.jsxs("div",{className:"af-form__file-actions",children:[f&&e.jsx(v,{"aria-label":"Visualiser",onClick:()=>f(x),variant:"ghost",iconLeft:e.jsx(j,{src:W})}),g&&e.jsx(v,{"aria-label":"Supprimer",onClick:()=>g(x),variant:"ghost",iconLeft:e.jsx(j,{src:J})})]})]}),b&&e.jsx(C,{message:H})]},x)})})]})]})};P.displayName="FileUpload";const y=h.forwardRef(({className:a,title:i="",onOutsideTap:t,children:s,...c},o)=>e.jsx("dialog",{"aria-label":i,className:["af-modal",a].filter(Boolean).join(" "),onClick:t,ref:o,...c,children:e.jsx("div",{className:"af-modal__dialog",onClick:d=>d.stopPropagation(),children:e.jsx("div",{className:"af-modal__content",children:s})})}));y.displayName="ModalCore";y.__docgenInfo={description:"",methods:[],displayName:"ModalCore",props:{title:{defaultValue:{value:'""',computed:!1},required:!1}}};const O="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%20-960%20960%20960'%3e%3cpath%20d='m249-207-42-42%20231-231-231-231%2042-42%20231%20231%20231-231%2042%2042-231%20231%20231%20231-42%2042-231-231-231%20231Z'/%3e%3c/svg%3e",K=({className:a,title:i,subtitle:t,iconTitle:s,levelTitle:c=2,onCancel:o,closeButtonAriaLabel:d="Fermer la boite de dialogue",...m})=>{const l=`h${c}`;return e.jsxs("header",{className:["af-modal__header",a].filter(Boolean).join(" "),...m,children:[e.jsx(v,{variant:"ghost",iconLeft:e.jsx(q,{src:O,width:32,height:32,role:"graphics-document"}),"aria-label":d,onClick:o}),e.jsxs("div",{className:"af-modal__header-title",children:[s&&e.jsx(q,{src:s,width:32,height:32,role:"graphics-document"}),e.jsx(l,{className:"af-modal__header-title-heading",children:i}),t&&e.jsx("span",{className:"af-modal__header-title-subtitle",children:t})]})]})},ee=({children:a,className:i,...t})=>e.jsx("section",{className:["af-modal__body",i].filter(Boolean).join(" "),...t,children:a}),ae=({className:a,...i})=>e.jsx("footer",{className:["af-modal__footer",a].filter(Boolean).join(" "),...i}),B=h.forwardRef(({children:a,title:i,submitTitle:t,cancelTitle:s,className:c,onCancel:o,onSubmit:d,closeButtonAriaLabel:m,cancelDisabled:l,submitDisabled:u,subtitle:r,iconTitle:n,levelTitle:f,...g},p)=>e.jsxs(y,{className:c,onOutsideTap:o,title:i,ref:p,...g,children:[e.jsx(K,{title:i,subtitle:r,iconTitle:n,levelTitle:f,onCancel:o,closeButtonAriaLabel:m}),e.jsx(ee,{children:a}),e.jsxs(ae,{children:[o&&s&&e.jsx(v,{variant:"secondary",onClick:o,disabled:l,children:s}),d&&t&&e.jsx(v,{variant:"primary",onClick:d,disabled:u,children:t})]})]}));B.displayName="Modal";B.__docgenInfo={description:"",methods:[],displayName:"Modal"};var N;(function(a){a.center="center"})(N||(N={}));const re=({items:a,preSelectedTabIndex:i,direction:t})=>{const[s,c]=h.useState(i||0),o=h.useRef([]),d=h.useRef(null),m=a.length,l=r=>r===s,u=h.useCallback(r=>{const f=m-1,g=p=>{c(p),o.current[p].focus(),r.stopPropagation(),r.preventDefault()};switch(r.key){case"ArrowRight":g(s<f?s+1:0);break;case"ArrowLeft":g(s>0?s-1:f);break;case"Home":g(0);break;case"End":g(f);break}},[s,m]);return e.jsxs("div",{className:E("af-tabs-client",t===N.center?"af-tabs-client--center":""),children:[e.jsx("div",{role:"tablist",ref:d,children:a.map((r,n)=>e.jsxs("button",{role:"tab",id:`tab-${n}`,"aria-selected":l(n),"aria-controls":`tabpanel-${n}`,onKeyDown:u,onClick:()=>c(n),ref:f=>{o.current[n]=f},type:"button",tabIndex:l(n)?0:-1,children:[r.icon,e.jsx("span",{children:r.title})]},`tab-${r.title}`))}),a.map((r,n)=>e.jsx("div",{role:"tabpanel","aria-hidden":!l(n),id:`tabpanel-${n}`,"aria-labelledby":`tab-${n}`,children:r.content},`tabpanel-${r.title}`))]})};var T;(function(a){a.XL="xl",a.L="l"})(T||(T={}));export{S as B,N as D,P as F,B as M,q as S,T,re as a,O as c};
