import{j as e}from"./index-C1mcBe1y.js";import{d as L,L as Q,N as H,B as g,S as v,j as S,z as Z,v as U,A as D,R as G,I as W}from"./DropdownCommon-CTBU8xVl.js";import{r as h}from"./index-DbaA8R3S.js";const X="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%20-960%20960%20960'%3e%3cpath%20d='M480.12-330q70.88%200%20120.38-49.62t49.5-120.5q0-70.88-49.62-120.38T479.88-670Q409-670%20359.5-620.38T310-499.88q0%2070.88%2049.62%20120.38t120.5%2049.5Zm-.36-58q-46.76%200-79.26-32.74-32.5-32.73-32.5-79.5%200-46.76%2032.74-79.26%2032.73-32.5%2079.5-32.5%2046.76%200%2079.26%2032.74%2032.5%2032.73%2032.5%2079.5%200%2046.76-32.74%2079.26-32.73%2032.5-79.5%2032.5Zm.24%20188q-146%200-264-83T40-500q58-134%20176-217t264-83q146%200%20264%2083t176%20217q-58%20134-176%20217t-264%2083Z'/%3e%3c/svg%3e";var y;(function(s){s[s.SM=667]="SM",s[s.MD=1023]="MD",s[s.LG=1279]="LG",s[s.XL=1599]="XL"})(y||(y={}));const V=s=>s.split(" ").filter(Boolean).at(-1),J=s=>s?s.split(" "):[],I=(s,i,t)=>{if(!s)return"";const a=V(s),l=J(t).filter(r=>/\S/.test(r)).map(r=>`${a}--${r}`);return L(s,i,l)},Y=s=>{const i=h.useCallback(o=>(window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}),[]),t=h.useCallback(()=>window.innerWidth<=s,[s]),a=h.useCallback(()=>!1,[]);return h.useSyncExternalStore(i,t,a)},O=["fill","stroke"],K=(s,i)=>{const t={};s==null||s.getAttributeNames().forEach(a=>{(a.startsWith("aria-")||O.includes(a))&&(t[a]=s.getAttribute(a))}),Object.keys(t).forEach(a=>{i.setAttribute(a,t[a])})},P=(s,{beforeEach:i=()=>{},...t}={})=>{s&&Q(s,{...t,beforeEach:a=>{H.sanitize(a,{USE_PROFILES:{svg:!0,svgFilters:!0},IN_PLACE:!0}),K(s,a),i(a)}})},$=(s,i)=>{s.getAttributeNames().forEach(a=>{i.setAttribute(a,s.getAttribute(a))})},B=({src:s,alt:i,width:t=24,height:a=24,...o})=>{const l=h.useRef(null),[r,f]=h.useState(!1);return h.useLayoutEffect(()=>{r&&f(!1)},[s]),h.useLayoutEffect(()=>{if(r)return;const c=l.current;if(c){const x=document.createElement("div"),n=document.createElement("svg");x.appendChild(n),$(c,n),n.setAttribute("width",t.toString()),n.setAttribute("height",a.toString()),P(n,{afterEach:(d,m)=>{d&&f(!0),m&&(c.innerHTML=m.innerHTML,$(m,c))}})}},[s,t,a,r]),r?i?e.jsx("span",{...o,children:i}):null:e.jsx("svg",{ref:l,"data-src":s,width:t,height:a,...o})},ee="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%20-960%20960%20960'%3e%3cpath%20d='M453-280h60v-166h167v-60H513v-174h-60v174H280v60h173v166Zm27.27%20200q-82.74%200-155.5-31.5Q252-143%20197.5-197.5t-86-127.34Q80-397.68%2080-480.5t31.5-155.66Q143-709%20197.5-763t127.34-85.5Q397.68-880%20480.5-880t155.66%2031.5Q709-817%20763-763t85.5%20127Q880-563%20880-480.27q0%2082.74-31.5%20155.5Q817-252%20763-197.68q-54%2054.31-127%2086Q563-80%20480.27-80Z'/%3e%3c/svg%3e",se="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%20-960%20960%20960'%3e%3cpath%20d='m249-207-42-42%20231-231-231-231%2042-42%20231%20231%20231-231%2042%2042-231%20231%20231%20231-42%2042-231-231-231%20231Z'/%3e%3c/svg%3e";function ae(s){let i=-1,t=s;const a=[" Ko"," Mo"," Go"];do t/=1e3,i+=1;while(t>1e3);return Math.max(t,.1).toFixed(1)+a[i]}const te=({id:s,label:i,buttonLabel:t,instructions:a,dropzoneDescription:o,filesListLabel:l,required:r,files:f,errors:c,globalError:x,isMobile:n,withPadding:d=!1,onView:m,onDelete:p,...j})=>{const b=h.useId(),_=(u,N)=>u?e.jsx(v,{src:Z,className:"af-form__file-title-container-icon-error"}):N?e.jsx(U,{size:24}):e.jsx(v,{src:D,className:"af-form__file-title-container-icon-success"});return e.jsxs("div",{children:[e.jsxs("label",{className:"af-form__group--label",htmlFor:s,children:[i," ",r?"*":""]}),e.jsxs("div",{className:"af-form__file-input-container",children:[e.jsxs("div",{className:L("af-form__file-input",x&&"af-form__file-input--error",(n||!d&&!o)&&"is-mobile"),children:[e.jsx("input",{type:"file",name:"file-input",id:s,"aria-errormessage":b,"aria-invalid":!!x,...j}),o&&e.jsxs("div",{className:"af-form__file-input-dropdown-text",children:[e.jsx("p",{children:o}),e.jsx("p",{children:"ou"})]}),e.jsx(g,{variant:"tertiary",onClick:()=>{var u;return(u=document.getElementById(s))==null?void 0:u.click()},iconLeft:e.jsx(v,{src:ee,className:"af-form__file-input-icon"}),children:t})]}),x&&e.jsx(S,{id:b,message:x}),a&&e.jsx("small",{className:"af-form__file-input-help",children:a})]}),f&&f.length!==0&&e.jsxs("div",{className:"custom-table-file af-file-table",children:[l&&e.jsx("div",{className:"af-form__group--label af-form__files-list-label",children:l}),e.jsx("ul",{className:"af-form__file-list",children:f.map(({id:u,name:N,size:T,isLoading:A})=>{var E;const z=ae(T),w=c?c.some(C=>C.id===u):!1,F=(E=c==null?void 0:c.find(C=>C.id===u))==null?void 0:E.message;return e.jsxs("li",{className:"af-form__file-line",children:[e.jsxs("div",{className:`af-form__file-line-container ${w?"af-form__file-line-container--error":""}`,children:[e.jsxs("div",{className:"af-form__file-title",children:[_(w,A),e.jsxs("div",{children:[e.jsx("span",{className:"af-form__file-name",children:N}),e.jsx("span",{className:"af-form__file-size",children:z})]})]}),e.jsxs("div",{className:"af-form__file-actions",children:[m&&e.jsx(g,{"aria-label":"Visualiser",onClick:()=>m(u),variant:"ghost",iconLeft:e.jsx(v,{src:X})}),p&&e.jsx(g,{"aria-label":"Supprimer",onClick:()=>p(u),variant:"ghost",iconLeft:e.jsx(v,{src:se})})]})]}),w&&e.jsx(S,{message:F})]},u)})})]})]})};te.displayName="FileUpload";const ie=({label:s,description:i,subtitle:t,icon:a,size:o,...l})=>e.jsxs("label",{className:"af-card-radio-label",children:[e.jsx(G,{...l}),e.jsxs("div",{className:"af-card-radio-content",children:[a&&e.jsx(W,{src:a,size:o,role:"presentation"}),e.jsxs("div",{className:"af-card-radio-content-description",children:[e.jsx("span",{children:s}),i&&e.jsx("span",{children:i}),t&&e.jsx("span",{children:t})]})]})]}),re=({className:s,labelGroup:i,descriptionGroup:t,isRequired:a,options:o,type:l="vertical",error:r,name:f,value:c,onChange:x,...n})=>{const d=I("af-card-radio__container",s),m=I("af-card-radio-group",s,l),p=h.useId(),j=`${p}:error`,_=Y(y.SM)?"M":"L";return e.jsxs("fieldset",{className:d,"aria-invalid":!!r,"aria-errormessage":r?j:void 0,children:[i&&e.jsxs("legend",{className:"af-card-radio__legend",children:[e.jsxs("p",{children:[i,a&&e.jsx("span",{"aria-hidden":!0,children:"Â *"})]}),t&&e.jsx("p",{className:"af-card-radio__description",children:t})]}),e.jsx("div",{className:m,children:o.map(u=>e.jsx(ie,{name:f,onChange:x,size:_,isInvalid:!!r,checked:c!==void 0?c===u.value:void 0,...n,...u},`${f??p}-${u.label}`))}),e.jsx(S,{id:j,message:r,messageType:"error"})]})};re.displayName="RadioCard";const k=h.forwardRef(({className:s,title:i="",onOutsideTap:t,children:a,...o},l)=>e.jsx("dialog",{"aria-label":i,className:["af-modal",s].filter(Boolean).join(" "),onClick:t,ref:l,...o,children:e.jsx("div",{className:"af-modal__dialog",onClick:r=>r.stopPropagation(),children:e.jsx("div",{className:"af-modal__content",children:a})})}));k.displayName="ModalCore";k.__docgenInfo={description:"",methods:[],displayName:"ModalCore",props:{title:{defaultValue:{value:'""',computed:!1},required:!1}}};const ne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%20-960%20960%20960'%3e%3cpath%20d='m249-207-42-42%20231-231-231-231%2042-42%20231%20231%20231-231%2042%2042-231%20231%20231%20231-42%2042-231-231-231%20231Z'/%3e%3c/svg%3e",oe=({className:s,title:i,subtitle:t,iconTitle:a,levelTitle:o=2,onCancel:l,closeButtonAriaLabel:r="Fermer la boite de dialogue",...f})=>{const c=`h${o}`;return e.jsxs("header",{className:["af-modal__header",s].filter(Boolean).join(" "),...f,children:[e.jsx(g,{variant:"ghost",iconLeft:e.jsx(B,{src:ne,width:32,height:32,role:"graphics-document"}),"aria-label":r,onClick:l}),e.jsxs("div",{className:"af-modal__header-title",children:[a&&e.jsx(B,{src:a,width:32,height:32,role:"graphics-document"}),e.jsx(c,{className:"af-modal__header-title-heading",children:i}),t&&e.jsx("span",{className:"af-modal__header-title-subtitle",children:t})]})]})},le=({children:s,className:i,...t})=>e.jsx("section",{className:["af-modal__body",i].filter(Boolean).join(" "),...t,children:s}),ce=({className:s,...i})=>e.jsx("footer",{className:["af-modal__footer",s].filter(Boolean).join(" "),...i}),q=h.forwardRef(({children:s,title:i,submitTitle:t,cancelTitle:a,className:o,onCancel:l,onSubmit:r,closeButtonAriaLabel:f,cancelDisabled:c,submitDisabled:x,subtitle:n,iconTitle:d,levelTitle:m,...p},j)=>e.jsxs(k,{className:o,onOutsideTap:l,title:i,ref:j,...p,children:[e.jsx(oe,{title:i,subtitle:n,iconTitle:d,levelTitle:m,onCancel:l,closeButtonAriaLabel:f}),e.jsx(le,{children:s}),e.jsxs(ce,{children:[l&&a&&e.jsx(g,{variant:"secondary",onClick:l,disabled:c,children:a}),r&&t&&e.jsx(g,{variant:"primary",onClick:r,disabled:x,children:t})]})]}));q.displayName="Modal";q.__docgenInfo={description:"",methods:[],displayName:"Modal"};var M;(function(s){s.center="center"})(M||(M={}));const he=({items:s,preSelectedTabIndex:i,direction:t})=>{const[a,o]=h.useState(i||0),l=h.useRef([]),r=h.useRef(null),f=s.length,c=n=>n===a,x=h.useCallback(n=>{const m=f-1,p=j=>{o(j),l.current[j].focus(),n.stopPropagation(),n.preventDefault()};switch(n.key){case"ArrowRight":p(a<m?a+1:0);break;case"ArrowLeft":p(a>0?a-1:m);break;case"Home":p(0);break;case"End":p(m);break}},[a,f]);return e.jsxs("div",{className:L("af-tabs-client",t===M.center?"af-tabs-client--center":""),children:[e.jsx("div",{role:"tablist",ref:r,children:s.map((n,d)=>e.jsxs("button",{role:"tab",id:`tab-${d}`,"aria-selected":c(d),"aria-controls":`tabpanel-${d}`,onKeyDown:x,onClick:()=>o(d),ref:m=>{l.current[d]=m},type:"button",tabIndex:c(d)?0:-1,children:[n.icon,e.jsx("span",{children:n.title})]},`tab-${n.title}`))}),s.map((n,d)=>e.jsx("div",{role:"tabpanel","aria-hidden":!c(d),id:`tabpanel-${d}`,"aria-labelledby":`tab-${d}`,children:n.content},`tabpanel-${n.title}`))]})};var R;(function(s){s.XL="xl",s.L="l"})(R||(R={}));export{y as B,M as D,te as F,q as M,re as R,B as S,R as T,he as a,ne as c,I as g,Y as u,X as v};
