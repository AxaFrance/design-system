import { Canvas, Controls, Meta } from "@storybook/addon-docs";
import * as ModalStories from "./Modal.stories.tsx";
import * as ModalCoreStories from "./ModalCore.stories.tsx";

<Meta of={ModalStories} name="Docs" />

# Modal

1. [ModalCore](#modalcore)
2. [Modal](#modal)

The ModalCore is the component to use if you want to fully configure your modal.

With the `ModalCoreHeader` you can configure the header of the modal.

With the `ModalCoreBody` you can configure the body of the modal.

And with the `ModalCoreFooter` you can configure the footer of the modal.

You need to pass a `ref` to the `Modal` component in order to call the `showModal` function when you want to open the modal and the `close` function for closing it.

## ModalCore

Example of usage of ModalCore component :

```tsx
import { useRef } from "react";

export const YourComponent = () => {
  const ref = useRef<HTMLDialogElement>(null);

  return (
    <>
      <ButtonClient onClick={() => ref.current?.showModal()}>
        Open the modal
      </ButtonClient>

      <ModalCore
        onCancel={() => {}}
        onClose={() => {}}
        onSubmit={() => {}}
        title="Modal title"
        ref={ref}
      >
        <ModalCoreHeader
          headingProps={{
            children: "Modal title",
          }}
          iconProps={{ src: iconSrc }}
          onClose={() => {}}
        />
        <ModalCoreBody>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse
          consectetur urna a tellus semper, id elementum ligula fermentum. In
          semper quis mi eu commodo. Vivamus in metus eros. Sed ut pellentesque
          purus. Maecenas congue ornare massa quis porttitor. Nullam ut diam
          dapibus, consequat libero eget, faucibus nibh. Etiam imperdiet metus
          at nulla fermentum semper. In ipsum urna, tempus vel lorem vel,
          venenatis malesuada dui. Cras massa ipsum, accumsan et scelerisque ut,
          vulputate at elit.
        </ModalCoreBody>
        <ModalCoreFooter
          primaryButtonProps={{
            children: "Valider",
          }}
          secondaryButtonProps={{
            children: "Annuler",
          }}
        />
      </ModalCore>
    </>
  );
};
```

<Canvas of={ModalCoreStories.DefaultModalCore} />

<Controls of={ModalCoreStories.DefaultModalCore} />

## Modal

Example of usage of Modal component :

```tsx
import { useRef } from "react";

export const YourComponent = () => {
  const ref = useRef<HTMLDialogElement>(null);

  return (
    <>
      <button type="button" onClick={() => ref.current?.showModal()}>
        Open modal
      </button>

      <Modal
        ref={ref}
        headingProps={{
          firstSubtitle: "Modal subtitle",
        }}
        icon={iconSrc}
        iconProps={{
          variant: "primary",
        }}
        onCancel={() => {}}
        onClose={() => {}}
        primaryButtonProps={{
          children: "Submit",
          onClick: () => {},
        }}
        secondaryButtonProps={{
          children: "Cancel",
          onClick: () => {},
        }}
        title="Modal title"
      >
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
        veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
        commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
        velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
        occaecat cupidatat non proident, sunt in culpa qui officia deserunt
        mollit anim id est laborum. Curabitur pretium tincidunt lacus. Nulla
        gravida orci a odio. Nullam varius, turpis et commodo pharetra, est eros
        bibendum elit, nec luctus magna felis sollicitudin mauris
      </Modal>
    </>
  );
};
```

<Canvas of={ModalStories.Playground} />

<Controls of={ModalStories.Playground} />
